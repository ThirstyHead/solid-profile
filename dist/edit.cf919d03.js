function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=n.parcelRequirea88a;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},n.parcelRequirea88a=o),o.register("l3TK2",(function(n,r){t(n.exports,"getThing",(()=>Te)),t(n.exports,"getSolidDataset",(()=>Ve));var i=o("ewyr8"),s=o("conuX"),a=o("169n5");o("5MOo6");o("6xrJr");var l=o("gwmRv"),c=o("g1UNa");o("9IttL");function u(e){return"object"==typeof e&&"object"==typeof e.internal_resourceInfo}function d(e){const t=e;return"object"==typeof t&&"object"==typeof t.internal_resourceInfo&&"object"==typeof t.internal_resourceInfo.linkedResources}function f(e){const t=e;return"object"==typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}class h extends Error{}function p(e){return"string"==typeof e?e:e.value}const g=async(e,t)=>{let n;return window,n=o("R5nvG"),await n(e,t)};function y(t){var n,r,o,s,a;const l=null!==(r=null===(n=t.headers.get("Content-Type"))||void 0===n?void 0:n.split(";"))&&void 0!==r?r:[],c=l.length>0&&["text/turtle","application/ld+json"].includes(l[0]),u={sourceIri:t.url,isRawData:!c,contentLocation:null!==(o=t.headers.get("Content-Location"))&&void 0!==o?o:void 0,contentType:null!==(s=t.headers.get("Content-Type"))&&void 0!==s?s:void 0,linkedResources:{},location:null!==(a=t.headers.get("Location"))&&void 0!==a?a:void 0},d=t.headers.get("Link");if(d){const t=e(i).parse(d),n=t.get("rel","acl");1===n.length&&(u.aclUrl=new URL(n[0].uri,u.sourceIri).href),u.linkedResources=t.refs.reduce(((e,t)=>{var n,r;return null!==(n=e[r=t.rel])&&void 0!==n||(e[r]=[]),e[t.rel].push(new URL(t.uri,u.sourceIri).href),e}),u.linkedResources)}const f=t.headers.get("WAC-Allow");return f&&(u.permissions=function(e){function t(e){const t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function n(e,t){const n=e.split(",").map((e=>e.split("="))).filter((e=>2===e.length&&e[0].trim()===t));if(1!==n.length)return"";const r=n[0][1].trim();return'"'!==r.charAt(0)||'"'!==r.charAt(r.length-1)?"":r.substring(1,r.length-1)}return{user:t(n(e,"user")),public:t(n(e,"public"))}}(f)),u}function b(e){let t;return t="function"==typeof e.slice?Object.assign(e.slice(),Object.assign({},e)):Object.assign({},e),t}function v(e){return!e.ok}const m="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",w="http://www.w3.org/ns/ldp#Resource",_={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",memberAccessControl:"http://www.w3.org/ns/solid/acp#memberAccessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},x="http://www.w3.org/ns/solid/terms#PublicOidcClient",j={fetch:g};async function A(e,t=Object.assign(Object.assign({},j),{ignoreAuthenticationErrors:!1})){var n;const r=Object.assign(Object.assign({},j),t);return O(await r.fetch(e,{method:"HEAD"}),{ignoreAuthenticationErrors:null!==(n=t.ignoreAuthenticationErrors)&&void 0!==n&&n})}function O(e,t={ignoreAuthenticationErrors:!1}){if(v(e)&&(!function(e){return 401===e.status||403===e.status}(e)||!t.ignoreAuthenticationErrors))throw new E(`Fetching the metadata of the Resource at [${e.url}] failed: [${e.status}] [${e.statusText}].`,e);return{internal_resourceInfo:y(e)}}function I(e){return u(e)?e.internal_resourceInfo.sourceIri:null}const R=I;function S(e){return e.internal_resourceInfo.linkedResources}class E extends h{constructor(e,t){super(e),this.response=t}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}}const k={fetch:g};async function T(e,t=k){const n=Object.assign(Object.assign({},k),t),r=p(e),i=await n.fetch(r,n.init);if(v(i))throw new E(`Fetching the File failed: [${i.status}] [${i.statusText}].`,i);const o=y(i),s=await i.blob();return Object.assign(s,{internal_resourceInfo:o})}e(a).dataset;const N="https://inrupt.com/.well-known/sdk-local-node/",L=Object.freeze;function C(e){return e.substring(0,N.length)===N}function P(e){return e.substring(N.length)}function M(e){return"string"==typeof e&&"_:"===e.substring(0,2)}function D(e){return e.substring(2)}function U(e){return`_:${e.value}`}const B="http://www.w3.org/2001/XMLSchema#boolean",$="http://www.w3.org/2001/XMLSchema#dateTime",F="http://www.w3.org/2001/XMLSchema#date",q="http://www.w3.org/2001/XMLSchema#time",G="http://www.w3.org/2001/XMLSchema#decimal",z="http://www.w3.org/2001/XMLSchema#integer",J="http://www.w3.org/2001/XMLSchema#string",Q="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function V(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}function W(e){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[t,n]=X(e),[r,i,o]=t.split(":");let s=Number.parseInt(r,10),a=Number.parseInt(i,10);const[l,c]=o.split("."),u=Number.parseInt(l,10),d=c?Number.parseInt(c,10):void 0;a>=60&&(s+=1,a-=60);const f={hour:s,minute:a,second:u};if("number"==typeof d&&(f.millisecond=d),"string"==typeof n){const[e,t]=K(n);if("number"!=typeof e||e>24||"number"!=typeof t||t>59)return null;f.timezoneHourOffset=e,f.timezoneMinuteOffset=t}return f}function H(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[t,n]=e.split("T"),[r,i]="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],[o,s,a]=i.split("-"),l=Number.parseInt(o,10)*r,c=Number.parseInt(s,10)-1,u=Number.parseInt(a,10),[d,f]=X(n),[h,p]="string"==typeof f?K(f):[0,0],[g,y,b]=d.split(":"),v=Number.parseInt(g,10)+h,m=Number.parseInt(y,10)+p,[w,_]=b.split("."),x=Number.parseInt(w,10),j=_?Number.parseInt(_,10):0,A=new Date(Date.UTC(l,c,u,v,m,x,j));return l>=0&&l<100&&A.setUTCFullYear(A.getUTCFullYear()-1900),A}function Z(e){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const t=e,[n,r]="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],[i,o,s]=r.split("-"),a=s.length>2?s.substring(0,2):s,l=Number.parseInt(i,10)*n,c=Number.parseInt(o,10)-1,u=Number.parseInt(a,10),d=new Date(Date.UTC(l,c,u,12));return l>=0&&l<100&&d.setUTCFullYear(d.getUTCFullYear()-1900),d}function X(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];const t=e.split("+"),n=e.split("-");return 1===t.length&&1===n.length?[t[0],void 0]:t.length>n.length?[t[0],"+"+t[1]]:[n[0],"-"+n[1]]}function K(e){if("Z"===e)return[0,0];const t="+"===e.charAt(0)?1:-1,[n,r]=e.substring(1).split(":");return[Number.parseInt(n,10)*t,Number.parseInt(r,10)*t]}function Y(e){const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function ee(e){const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function te(e){return e.toLowerCase()}function ne(e){return re(e)&&"NamedNode"===e.termType}function re(e){return null!==e&&"object"==typeof e&&"string"==typeof e.termType&&"string"==typeof e.value&&"function"==typeof e.equals}function ie(e){return ne(e)&&C(e.value)}function oe(e){const t=p(e);if("function"!=typeof URL)return!0;try{new URL(t)}catch(e){return!1}return!0}function se(e,t){return le.namedNode(ae(P(e.value),t))}function ae(e,t){if("function"!=typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");const n=new URL(t);return n.hash=e,n.href}const le=e(s);function ce(e,t,n={}){var r;if(!["NamedNode","DefaultGraph"].includes(t.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.graph.termType}] as their Graph node.`);const i="DefaultGraph"===t.graph.termType?"default":t.graph.value,o=null!==(r=e.graphs[i])&&void 0!==r?r:{};return L(Object.assign(Object.assign({},e),{graphs:L(Object.assign(Object.assign({},e.graphs),{[i]:ue(o,t,n)}))}))}function ue(e,t,n){var r;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.subject.termType}] as their Subject node.`);const i="BlankNode"===t.subject.termType?`_:${t.subject.value}`:t.subject.value,o=null!==(r=e[i])&&void 0!==r?r:{type:"Subject",url:i,predicates:{}};return L(Object.assign(Object.assign({},e),{[i]:de(o,t,n)}))}function de(e,t,n){return L(Object.assign(Object.assign({},e),{predicates:fe(e.predicates,t,n)}))}function fe(e,t,n){var r;if(!["NamedNode"].includes(t.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.predicate.termType}] as their Predicate node.`);const i=t.predicate.value,o=null!==(r=e[i])&&void 0!==r?r:{};return L(Object.assign(Object.assign({},e),{[i]:he(o,t,n)}))}function he(e,t,n){var r,i,o,s,a,l,c,u;if("NamedNode"===t.object.termType){const n=L([...null!==(r=e.namedNodes)&&void 0!==r?r:[],t.object.value]);return L(Object.assign(Object.assign({},e),{namedNodes:n}))}if("Literal"===t.object.termType){if(t.object.datatype.value===Q){const n=t.object.language.toLowerCase(),r=L([...null!==(o=null===(i=e.langStrings)||void 0===i?void 0:i[n])&&void 0!==o?o:[],t.object.value]),a=L(Object.assign(Object.assign({},null!==(s=e.langStrings)&&void 0!==s?s:{}),{[n]:r}));return L(Object.assign(Object.assign({},e),{langStrings:a}))}const n=L([...null!==(l=null===(a=e.literals)||void 0===a?void 0:a[t.object.datatype.value])&&void 0!==l?l:[],t.object.value]),r=L(Object.assign(Object.assign({},null!==(c=e.literals)&&void 0!==c?c:{}),{[t.object.datatype.value]:n}));return L(Object.assign(Object.assign({},e),{literals:r}))}if("BlankNode"===t.object.termType){const r=pe(t.object,n),i=L([...null!==(u=e.blankNodes)&&void 0!==u?u:[],r]);return L(Object.assign(Object.assign({},e),{blankNodes:i}))}throw new Error(`Objects of type [${t.object.termType}] are not supported.`)}function pe(e,t){var n,r;if(void 0===(null!==(n=t.chainBlankNodes)&&void 0!==n?n:[]).find((t=>t.equals(e))))return U(e);const i=(null!==(r=t.otherQuads)&&void 0!==r?r:[]).filter((t=>t.subject.equals(e))),o=i.filter((e=>!me(e.object))).reduce(((e,n)=>{var r;if(!["NamedNode"].includes(n.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${n.predicate.termType}] as their Predicate node.`);const i=null!==(r=e[n.predicate.value])&&void 0!==r?r:{};return L(Object.assign(Object.assign({},e),{[n.predicate.value]:he(i,n,t)}))}),{});return i.filter((e=>me(e.object))).reduce(((e,n)=>{var r,i;if(!["NamedNode"].includes(n.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${n.predicate.termType}] as their Predicate node.`);const o=null!==(r=e[n.predicate.value])&&void 0!==r?r:{},s=null!==(i=o.blankNodes)&&void 0!==i?i:[];return L(Object.assign(Object.assign({},e),{[n.predicate.value]:Object.assign(Object.assign({},o),{blankNodes:[...s,pe(n.object,t)]})}))}),o)}function ge(e){const t=e.map((e=>e.subject)).filter(me),n=e.map((e=>e.object)).filter(me);const r=[];n.forEach((t=>{r.push(...ve(t,e))}));return t.concat(n).filter((t=>{if(r.some((e=>e.equals(t))))return!1;const n=e.filter((e=>e.object.equals(t))).map((e=>e.subject));return n.length>0&&(i=n).every((e=>i.every((t=>e.equals(t)))));var i}))}function ye(t,n={}){var r;const i=[],o=null!==(r=n.dataFactory)&&void 0!==r?r:e(s);return Object.keys(t.graphs).forEach((e=>{const r=t.graphs[e],s="default"===e?o.defaultGraph():o.namedNode(e);Object.keys(r).forEach((e=>{const t=r[e].predicates,a=M(e)?o.blankNode(D(e)):o.namedNode(e);i.push(...be(t,a,s,n))}))})),i}function be(t,n,r,i={}){var o;const a=[],l=null!==(o=i.dataFactory)&&void 0!==o?o:e(s);return Object.keys(t).forEach((e=>{var i,o,s,c;const u=l.namedNode(e),d=null!==(i=t[e].langStrings)&&void 0!==i?i:{},f=null!==(o=t[e].namedNodes)&&void 0!==o?o:[],h=null!==(s=t[e].literals)&&void 0!==s?s:{},p=null!==(c=t[e].blankNodes)&&void 0!==c?c:[];Object.keys(h).forEach((e=>{const t=l.namedNode(e);h[e].forEach((e=>{const i=l.literal(e,t);a.push(l.quad(n,u,i,r))}))}));Object.keys(d).forEach((e=>{d[e].forEach((t=>{const i=l.literal(t,e);a.push(l.quad(n,u,i,r))}))})),f.forEach((e=>{const t=l.namedNode(e);a.push(l.quad(n,u,t,r))})),p.forEach((e=>{if(M(e)){const t=l.blankNode(D(e));a.push(l.quad(n,u,t,r))}else{const t=l.blankNode(),i=l.quad(n,u,t,r),o=be(e,t,r);a.push(i),a.push(...o)}}))})),a}function ve(e,t,n=[]){if(void 0!==n.find((t=>t.equals(e))))return n;const r=t.filter((t=>t.subject.equals(e)&&me(t.object))).map((e=>e.object));if(0===r.length)return[];const i=[...n,e],o=r.map((e=>ve(e,t,i))),s=[];for(const e of o)s.push(...e);return s}function me(e){return"BlankNode"===e.termType}const we=()=>{const e=[],t=[],n=[];return{onQuad:t=>{e.push(t)},onError:e=>{n.push(e)},onComplete:e=>{t.push(e)},parse:async(r,i)=>{(await async function(e){return new(0,l.default)({format:"text/turtle",baseIRI:e})}(I(i))).parse(r,((r,i,o)=>{r?n.forEach((e=>e(r))):i?e.forEach((e=>e(i))):t.forEach((e=>e()))}))}}};async function _e(e){const t=new(0,c.default)({format:"text/turtle"}),n=e.map((e=>le.quad(e.subject,e.predicate,e.object,void 0)));t.addQuads(n);const r=new Promise(((e,n)=>{t.end(((t,r)=>{if(t)return n(t);e(r)}))}));return await r}function xe(e){var t,n,r,i,o,s,a,l;if(ne(e))return`<${e.value}> (URL)`;if(function(e){return re(e)&&"Literal"===e.termType}(e)){if(!ne(e.datatype))return`[${e.value}] (RDF/JS Literal of unknown type)`;let c;switch(e.datatype.value){case B:return c=null!==(n=null===(t=V(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==n?n:`Invalid data: \`${e.value}\``,c+" (boolean)";case $:return c=null!==(i=null===(r=H(e.value))||void 0===r?void 0:r.toUTCString())&&void 0!==i?i:`Invalid data: \`${e.value}\``,c+" (datetime)";case G:return c=null!==(s=null===(o=Y(e.value))||void 0===o?void 0:o.toString())&&void 0!==s?s:`Invalid data: \`${e.value}\``,c+" (decimal)";case z:return c=null!==(l=null===(a=ee(e.value))||void 0===a?void 0:a.toString())&&void 0!==l?l:`Invalid data: \`${e.value}\``,c+" (integer)";case Q:return`"${e.value}" (${e.language} string)`;case J:return`"${e.value}" (string)`;default:return`[${e.value}] (RDF/JS Literal of type: \`${e.datatype.value}\`)`}}return"BlankNode"===e.termType?`[${e.value}] (RDF/JS BlankNode)`:"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?`?${e.value} (RDF/JS Variable)`:e}function je(e){if(!Me(e))throw new $e(e)}function Ae(e,t){const n=f(e)?e.internal_changeLog:{additions:[],deletions:[]},[r,i]=t.filter((e=>!Oe(e))).reduce((([e,t],n)=>void 0!==e.find((e=>e.equals(n)))?[e.filter((e=>!e.equals(n))),t]:[e,t.concat(n)]),[n.additions,n.deletions]);return L(Object.assign(Object.assign({},e),{internal_changeLog:{additions:r,deletions:i}}))}function Oe(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function Ie(e,t){var n,r,i;if(je(e),!oe(t))throw new Fe(t);const o=p(t),s=null!==(i=null===(r=null===(n=e.predicates[o])||void 0===n?void 0:n.namedNodes)||void 0===r?void 0:r[0])&&void 0!==i?i:null;return null===s?null:C(s)?`#${P(s)}`:s}function Re(e,t){var n,r,i;if(je(e),!oe(t))throw new Fe(t);const o=p(t);return null!==(i=null===(r=null===(n=e.predicates[o])||void 0===n?void 0:n.namedNodes)||void 0===r?void 0:r.map((e=>C(e)?`#${P(e)}`:e)))&&void 0!==i?i:[]}const Se=Re;function Ee(e,t){var n,r;je(e);const i=function(e,t){return Se(e,t).map((e=>le.namedNode(e)))}(e,t),o=function(e,t){var n,r,i,o;if(je(e),!oe(t))throw new Fe(t);const s=p(t);let a=[];const l=null!==(r=null===(n=e.predicates[s])||void 0===n?void 0:n.langStrings)&&void 0!==r?r:{},c=Object.keys(l);for(const e of c){const t=l[e].map((t=>le.literal(t,e)));a=a.concat(t)}const u=null!==(o=null===(i=e.predicates[s])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},d=Object.keys(u);for(const e of d){const t=u[e],n=le.namedNode(e),r=t.map((e=>le.literal(e,n)));a=a.concat(r)}return a}(e,t),s=p(t),a=(null!==(r=null===(n=e.predicates[s])||void 0===n?void 0:n.blankNodes)&&void 0!==r?r:[]).map((e=>{const t=M(e)?D(e):void 0;return le.blankNode(t)}));return i.concat(o).concat(a)}function ke(e,t,n){var r,i,o;if(!oe(t))throw new Fe(t);const s=p(t);return[...null!==(o=null===(i=null===(r=e.predicates[s])||void 0===r?void 0:r.literals)||void 0===i?void 0:i[n])&&void 0!==o?o:[]]}function Te(e,t,n={}){var r;if(!oe(t))throw new Ge(t);const i=void 0!==n.scope?p(n.scope):"default",o=null!==(r=e.graphs[i])&&void 0!==r?r:{},s=p(t),a=o[C(s)&&d(e)?ae(P(s),I(e)):s];return void 0===a?null:a}function Ne(e,t={acceptBlankNodes:!1}){var n;const r=void 0!==t.scope?p(t.scope):"default",i=null!==(n=e.graphs[r])&&void 0!==n?n:{};return Object.values(i).filter((e=>!M(e.url)||t.acceptBlankNodes))}function Le(e,t){var n;const r=Be(t)&&d(e)?ae(P(t.url),I(e)):t.url,i=e.graphs.default,o=L(Object.assign(Object.assign({},i),{[r]:L(Object.assign(Object.assign({},t),{url:r}))})),s=L(Object.assign(Object.assign({},e.graphs),{default:o})),a=le.namedNode(r),l=null===(n=e.graphs.default[r])||void 0===n?void 0:n.predicates,c=void 0!==l?be(l,a,le.defaultGraph()):[],u=be(t.predicates,a,le.defaultGraph());return function(e,t){const n=f(e)?e.internal_changeLog:{additions:[],deletions:[]},[r,i]=t.filter((e=>!Oe(e))).reduce((([e,t],n)=>void 0!==t.find((e=>e.equals(n)))?[e,t.filter((e=>!e.equals(n)))]:[e.concat(n),t]),[n.additions,n.deletions]);return L(Object.assign(Object.assign({},e),{internal_changeLog:{additions:r,deletions:i}}))}(Ae(L(Object.assign(Object.assign({},e),{graphs:s})),c),u)}function Ce(e,t){var n;let r;r=ne(t)?t.value:"string"==typeof t?C(t)&&d(e)?ae(P(t),I(e)):t:Be(t)?t.url:Ue(t);const i=e.graphs.default,o=Object.assign({},i);delete o[r];const s=L(Object.assign(Object.assign({},e.graphs),{default:L(o)})),a=le.namedNode(r),l=null===(n=e.graphs.default[r])||void 0===n?void 0:n.predicates,c=void 0!==l?be(l,a,le.defaultGraph()):[];return Ae(L(Object.assign(Object.assign({},e),{graphs:s})),c)}function Pe(e={}){var t;if(void 0!==e.url){const t=e.url;if(!oe(t))throw new Ge(t);return L({type:"Subject",predicates:L({}),url:t})}const n=null!==(t=e.name)&&void 0!==t?t:ze(),r=`https://inrupt.com/.well-known/sdk-local-node/${n}`;return L({type:"Subject",predicates:L({}),url:r})}function Me(e){return"object"==typeof e&&null!==e&&"string"==typeof e.type&&"Subject"===e.type}function De(e,t){if(Be(e)){if(void 0===t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return ae(P(e.url),t)}return e.url}const Ue=De;function Be(e){return C(e.url)}class $e extends h{constructor(e){super(`Expected a Thing, but received: [${e}].`),this.receivedValue=e}}class Fe extends h{constructor(e){const t=ne(e)?e.value:e;super(`Expected a valid URL to identify a property, but received: [${t}].`),this.receivedProperty=t}}class qe extends h{constructor(e){const t=ne(e)?e.value:e;super(`Expected a valid URL value, but received: [${t}].`),this.receivedValue=t}}class Ge extends h{constructor(e){const t=ne(e)?e.value:e;super(`Expected a valid URL to identify a Thing, but received: [${t}].`),this.receivedValue=t}}const ze=()=>Date.now().toString()+Math.random().toString().substring(2);function Je(e){const t=new URL(e);return t.hash="",t.href}function Qe(){return L({type:"Dataset",graphs:{default:{}}})}async function Ve(e,t=j){var n;e=p(e);const r=Object.assign(Object.assign({},j),t),i=Object.keys(null!==(n=t.parsers)&&void 0!==n?n:{}),o=i.length>0?i.join(", "):"text/turtle",s=await r.fetch(e,{headers:{Accept:o}});if(v(s))throw new E(`Fetching the Resource at [${e}] failed: [${s.status}] [${s.statusText}].`,s);const a=await async function(e,t={}){if(v(e))throw new E(`Fetching the SolidDataset at [${e.url}] failed: [${e.status}] [${e.statusText}].`,e);const n=O(e),r=Object.assign({"text/turtle":we()},t.parsers),i=null!==(o=n.internal_resourceInfo.contentType)&&void 0!==o?o:null;var o;if(null===i)throw new Error(`Could not determine the content type of the Resource at [${I(n)}].`);const s=i.split(";")[0],a=r[s];if(void 0===a)throw new Error(`The Resource at [${I(n)}] has a MIME type of [${s}], but the only parsers available are for the following MIME types: [${Object.keys(r).join(", ")}].`);const l=await e.text(),c=new Promise(((e,t)=>{let r=L({graphs:L({default:L({})}),type:"Dataset"});const o=[],s=[];a.onError((e=>{t(new Error(`Encountered an error parsing the Resource at [${I(n)}] with content type [${i}]: ${e}`))})),a.onQuad((e=>{s.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?o.push(e):r=ce(r,e)})),a.onComplete((async()=>{const t=o.length<=20?ge(o):[],i=o.filter((e=>t.every((t=>!t.equals(e.subject)))));r=i.reduce(((e,n)=>ce(e,n,{otherQuads:s,chainBlankNodes:t})),r);const a=L(Object.assign(Object.assign({},r),n));e(a)})),a.parse(l,n)}));return await c}(s,t);return a}async function We(e,t,n=j){e=p(e);const r=Object.assign(Object.assign({},j),n),i=function(e){return f(e)?e:L(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]}}))}(t),o=He(i,e)?await async function(e){return{method:"PATCH",body:`${e.internal_changeLog.deletions.length>0?`DELETE DATA {${(await _e(e.internal_changeLog.deletions.map(Xe))).trim()}};`:""} ${e.internal_changeLog.additions.length>0?`INSERT DATA {${(await _e(e.internal_changeLog.additions.map(Xe))).trim()}};`:""}`,headers:{"Content-Type":"application/sparql-update"}}}(i):await async function(e){return{method:"PUT",body:await _e(ye(e).map(Xe)),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${w}>; rel="type"`}}}(i),s=await r.fetch(e,o);if(v(s)){const t=He(i,e)?"The changes that were sent to the Pod are listed below.\n\n"+function(e){if(!u(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!f(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return`## Changes compared to ${I(e)}\n\nThis SolidDataset has not been modified since it was fetched from ${I(e)}.\n`;let t=`## Changes compared to ${I(e)}\n`;const n=function(e){const t={};return e.internal_changeLog.deletions.forEach((n=>{var r,i,o;const s=ie(n.subject)?se(n.subject,I(e)):n.subject;if(!ne(s)||!ne(n.predicate))return;const a=p(s),l=p(n.predicate);null!==(r=t[a])&&void 0!==r||(t[a]={}),null!==(i=(o=t[a])[l])&&void 0!==i||(o[l]={added:[],deleted:[]}),t[a][l].deleted.push(n.object)})),e.internal_changeLog.additions.forEach((n=>{var r,i,o;const s=ie(n.subject)?se(n.subject,I(e)):n.subject;if(!ne(s)||!ne(n.predicate))return;const a=p(s),l=p(n.predicate);null!==(r=t[a])&&void 0!==r||(t[a]={}),null!==(i=(o=t[a])[l])&&void 0!==i||(o[l]={added:[],deleted:[]}),t[a][l].added.push(n.object)})),t}(e);return Object.keys(n).forEach((e=>{t+=`\n### Thing: ${e}\n`;const r=n[e];Object.keys(r).forEach((e=>{t+=`\nProperty: ${e}\n`;const n=r[e].deleted,i=r[e].added;n.length>0&&(t+="- Removed:\n",n.forEach((e=>t+=`  - ${xe(e)}\n`))),i.length>0&&(t+="- Added:\n",i.forEach((e=>t+=`  - ${xe(e)}\n`)))}))})),t}(i):"The SolidDataset that was sent to the Pod is listed below.\n\n"+Ze(i);throw new E(`Storing the Resource at [${e}] failed: [${s.status}] [${s.statusText}].\n\n`+t,s)}const a=Object.assign(Object.assign({},y(s)),{isRawData:!1});return Ye(L(Object.assign(Object.assign({},t),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:a})))}function He(e,t){return f(e)&&u(e)&&"string"==typeof e.internal_resourceInfo.sourceIri&&(n=t,Je(e.internal_resourceInfo.sourceIri)===Je(n));var n}function Ze(e){let t="";u(e)?t+=`# SolidDataset: ${I(e)}\n`:t+="# SolidDataset (no URL yet)\n";const n=Ne(e);return 0===n.length?t+="\n<empty>\n":n.forEach((n=>{t+="\n"+function(e){let t="";Be(e)?t+=`## Thing (no URL yet — identifier: \`#${P(e.url)}\`)\n`:t+=`## Thing: ${e.url}\n`;const n=Object.keys(e.predicates);if(0===n.length)t+="\n<empty>\n";else for(const r of n)t+=`\nProperty: ${r}\n`,Ee(e,r).forEach((e=>{t+=`- ${xe(e)}\n`}));return t}(n),f(e)&&(t+="\n"+function(e,t){const n=le.namedNode(t.url),r=e.internal_changeLog.additions.reduce(((e,t)=>t.subject.equals(n)?e+1:e),0),i=e.internal_changeLog.deletions.reduce(((e,t)=>t.subject.equals(n)?e+1:e),0);return`(${1===r?"1 new value added":r+" new values added"} / ${1===i?"1 value removed":i+" values removed"})`}(e,n)+"\n")})),t}function Xe(e){const t=ne(e.subject)?Ke(e.subject):e.subject,n=ne(e.object)?Ke(e.object):e.object;return le.quad(t,e.predicate,n,e.graph)}function Ke(e){return C(e.value)?le.namedNode("#"+P(e.value)):e}function Ye(e){const t=I(e),n=e.graphs.default,r=Object.keys(n).reduce(((e,n)=>{const r=function(e,t){const n=Object.keys(e.predicates).reduce(((e,n)=>{var r;const i=null!==(r=e[n].namedNodes)&&void 0!==r?r:[];if(i.every((e=>!C(e))))return e;const o=L(i.map((e=>C(e)?`${t}#${P(e)}`:e))),s=L(Object.assign(Object.assign({},e[n]),{namedNodes:o}));return L(Object.assign(Object.assign({},e),{[n]:s}))}),e.predicates);return L(Object.assign(Object.assign({},e),{predicates:n,url:C(e.url)?`${t}#${P(e.url)}`:e.url}))}(e[n],t),i=C(n)?`${t}#${P(n)}`:n,o=Object.assign({},e);return delete o[n],o[i]=r,L(o)}),n),i=L(Object.assign(Object.assign({},e.graphs),{default:r}));return L(Object.assign(Object.assign({},e),{graphs:i}))}const{Response:et}=o("R5nvG");function tt(e){const t=Qe();return Object.assign(Object.assign({},t),{internal_resourceInfo:{sourceIri:p(e),isRawData:!1,contentType:"text/turtle",linkedResources:{}}})}const nt=(e,t,n)=>{var r,i;if(je(e),!oe(t))throw new Fe(t);if(!Me(n)&&!oe(n))throw new qe(n);const o=p(t),s=null!==(r=e.predicates[o])&&void 0!==r?r:{},a=null!==(i=s.namedNodes)&&void 0!==i?i:[];let l;l=ne(n)?n.value:"string"==typeof n?n:Be(n)?n.url:Ue(n);const c=L(a.concat(p(l))),u=L(Object.assign(Object.assign({},s),{namedNodes:c})),d=L(Object.assign(Object.assign({},e.predicates),{[o]:u}));return L(Object.assign(Object.assign({},e),{predicates:d}))},rt=nt,it=(e,t,n)=>(je(e),gt(e,t,function(e){return e?"true":"false"}(n),B)),ot=(e,t,n)=>(je(e),gt(e,t,function(e){return e.toISOString()}(n),$)),st=(e,t,n)=>(je(e),gt(e,t,function(e){const t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),[i,o]=X(e.toISOString());return`${t}-${String(n).padStart(2,"0")}-${String(r).padStart(2,"0")}${o}`}(n),F)),at=(e,t,n)=>(je(e),gt(e,t,function(e){let t,n;if(e.millisecond&&(t=e.millisecond<10?"00"+e.millisecond:e.millisecond<100?"0"+e.millisecond:e.millisecond),"number"==typeof e.timezoneHourOffset){const t=Math.abs(e.timezoneHourOffset)<10?"0"+Math.abs(e.timezoneHourOffset):Math.abs(e.timezoneHourOffset);n=e.timezoneHourOffset>=0?"+"+t:"-"+t,e.timezoneMinuteOffset?n=n+":"+(e.timezoneMinuteOffset<10?"0"+e.timezoneMinuteOffset:e.timezoneMinuteOffset):n+=":00"}return(e.hour<10?"0"+e.hour:e.hour)+":"+(e.minute<10?"0"+e.minute:e.minute)+":"+(e.second<10?"0"+e.second:e.second)+(e.millisecond?"."+t:"")+(n||"")}(n),q)),lt=(e,t,n)=>(je(e),gt(e,t,function(e){return e.toString()}(n),G)),ct=(e,t,n)=>(je(e),gt(e,t,function(e){return e.toString()}(n),z));function ut(e,t,n,r){var i,o,s;if(je(e),!oe(t))throw new Fe(t);const a=p(t),l=te(r),c=null!==(i=e.predicates[a])&&void 0!==i?i:{},u=null!==(o=c.langStrings)&&void 0!==o?o:{},d=null!==(s=u[l])&&void 0!==s?s:[],f=L(d.concat(n)),h=L(Object.assign(Object.assign({},u),{[l]:f})),g=L(Object.assign(Object.assign({},c),{langStrings:h})),y=L(Object.assign(Object.assign({},e.predicates),{[a]:g}));return L(Object.assign(Object.assign({},e),{predicates:y}))}const dt=(e,t,n)=>(je(e),gt(e,t,n,J));function ft(e,t,n){return nt(e,t,n.value)}function ht(e,t,n){if(je(e),!oe(t))throw new Fe(t);return n.datatype.value===Q?ut(e,t,n.value,n.language):gt(e,t,n.value,n.datatype.value)}function pt(e,t,n){var r,i;if("NamedNode"===n.termType)return ft(e,t,n);if("Literal"===n.termType)return ht(e,t,n);if("BlankNode"===n.termType){if(je(e),!oe(t))throw new Fe(t);const o=p(t),s=null!==(r=e.predicates[o])&&void 0!==r?r:{},a=null!==(i=s.blankNodes)&&void 0!==i?i:[],l=L(a.concat(U(n))),c=L(Object.assign(Object.assign({},s),{blankNodes:l})),u=L(Object.assign(Object.assign({},e.predicates),{[o]:c}));return L(Object.assign(Object.assign({},e),{predicates:u}))}throw new Error(`Term type [${n.termType}] is not supported by @inrupt/solid-client.`)}function gt(e,t,n,r){var i,o,s;if(je(e),!oe(t))throw new Fe(t);const a=p(t),l=null!==(i=e.predicates[a])&&void 0!==i?i:{},c=null!==(o=l.literals)&&void 0!==o?o:{},u=null!==(s=c[r])&&void 0!==s?s:[],d=L(u.concat(n)),f=L(Object.assign(Object.assign({},c),{[r]:d})),h=L(Object.assign(Object.assign({},l),{literals:f})),g=L(Object.assign(Object.assign({},e.predicates),{[a]:h}));return L(Object.assign(Object.assign({},e),{predicates:g}))}function yt(e,t){if(je(e),!oe(t))throw new Fe(t);const n=p(t),r=Object.assign({},e.predicates);return delete r[n],L(Object.assign(Object.assign({},e),{predicates:L(r)}))}const bt=(e,t,n)=>{var r,i,o;if(je(e),!oe(t))throw new Fe(t);const s=p(t);if(!Me(n)&&!oe(n))throw new qe(n);const a=ne(n)?n.value:"string"==typeof n?n:Ue(n),l=L(null!==(o=null===(i=null===(r=e.predicates[s])||void 0===r?void 0:r.namedNodes)||void 0===i?void 0:i.filter((e=>e.toLowerCase()!==a.toLowerCase())))&&void 0!==o?o:[]),c=L(Object.assign(Object.assign({},e.predicates[s]),{namedNodes:l})),u=L(Object.assign(Object.assign({},e.predicates),{[s]:c}));return L(Object.assign(Object.assign({},e),{predicates:u}))},vt=bt,mt=(e,t,n)=>(je(e),Et(e,t,B,(e=>V(e)===n))),wt=(e,t,n)=>(je(e),Et(e,t,$,(e=>{var t;return(null===(t=H(e))||void 0===t?void 0:t.getTime())===n.getTime()}))),_t=(e,t,n)=>(je(e),Et(e,t,F,(function(e){const t=Z(e);return!!t&&(t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate())}))),xt=(e,t,n)=>(je(e),Et(e,t,q,(function(e){const t=W(e);return!!t&&(t.hour===n.hour&&t.minute===n.minute&&t.second===n.second&&t.millisecond===n.millisecond&&t.timezoneHourOffset===n.timezoneHourOffset&&t.timezoneMinuteOffset===n.timezoneMinuteOffset)}))),jt=(e,t,n)=>(je(e),Et(e,t,G,(e=>Y(e)===n))),At=(e,t,n)=>(je(e),Et(e,t,z,(e=>ee(e)===n)));function Ot(e,t,n,r){var i,o;if(je(e),!oe(t))throw new Fe(t);const s=p(t),a=null!==(o=null===(i=e.predicates[s])||void 0===i?void 0:i.langStrings)&&void 0!==o?o:{},l=Object.keys(a).find((e=>te(e)===te(r)&&Array.isArray(a[e])&&a[e].length>0));if("string"!=typeof l)return e;const c=a[l],u=L(c.filter((e=>e!==n))),d=L(Object.assign(Object.assign({},a),{[l]:u})),f=L(Object.assign(Object.assign({},e.predicates[s]),{langStrings:d})),h=L(Object.assign(Object.assign({},e.predicates),{[s]:f}));return L(Object.assign(Object.assign({},e),{predicates:h}))}const It=(e,t,n)=>(je(e),Et(e,t,J,(e=>e===n)));function Rt(e,t,n){return bt(e,t,n.value)}function St(e,t,n){var r,i,o;if(je(e),!oe(t))throw new Fe(t);const s=n.datatype.value;if(s===Q)return Ot(e,t,n.value,n.language);const a=p(t),l=null!==(r=e.predicates[a])&&void 0!==r?r:{},c=null!==(i=l.literals)&&void 0!==i?i:{},u=null!==(o=c[s])&&void 0!==o?o:[],d=L(u.filter((e=>e!==n.value))),f=L(Object.assign(Object.assign({},c),{[s]:d})),h=L(Object.assign(Object.assign({},l),{literals:f})),g=L(Object.assign(Object.assign({},e.predicates),{[a]:h}));return L(Object.assign(Object.assign({},e),{predicates:g}))}function Et(e,t,n,r){var i,o,s;if(!oe(t))throw new Fe(t);const a=p(t),l=null!==(i=e.predicates[a])&&void 0!==i?i:{},c=null!==(o=l.literals)&&void 0!==o?o:{},u=null!==(s=c[n])&&void 0!==s?s:[],d=L(u.filter((e=>!r(e)))),f=L(Object.assign(Object.assign({},c),{[n]:d})),h=L(Object.assign(Object.assign({},l),{literals:f})),g=L(Object.assign(Object.assign({},e.predicates),{[a]:h}));return L(Object.assign(Object.assign({},e),{predicates:g}))}const kt=(e,t,n)=>{if(je(e),!oe(t))throw new Fe(t);if(!Me(n)&&!oe(n))throw new qe(n);return nt(yt(e,t),t,n)},Tt=kt,Nt=(e,t,n)=>(je(e),it(yt(e,t),t,n)),Lt=(e,t,n)=>(je(e),ot(yt(e,t),t,n)),Ct=(e,t,n)=>(je(e),st(yt(e,t),t,n)),Pt=(e,t,n)=>(je(e),at(yt(e,t),t,n)),Mt=(e,t,n)=>(je(e),lt(yt(e,t),t,n)),Dt=(e,t,n)=>(je(e),ct(yt(e,t),t,n));function Ut(e,t,n,r){return je(e),ut(yt(e,t),t,n,r)}const Bt=(e,t,n)=>(je(e),dt(yt(e,t),t,n));function $t(e,t,n){return je(e),ft(yt(e,t),t,n)}function Ft(e,t,n){return je(e),ht(yt(e,t),t,n)}function qt(e,t,n){if(je(e),!oe(t))throw new Fe(t);return pt(yt(e,t),t,n)}function Gt(e=Pe()){let t=Me(e)?e:Pe(e);function n(e){return(n,r)=>(t=e(t,n,r),o)}function r(e){return(n,r)=>(t=e(t,n,r),o)}function i(e){return(n,r)=>(t=e(t,n,r),o)}const o={build:()=>t,addUrl:n(nt),addIri:n(rt),addBoolean:n(it),addDatetime:n(ot),addDate:n(st),addTime:n(at),addDecimal:n(lt),addInteger:n(ct),addStringNoLocale:n(dt),addStringEnglish:(e,n)=>(t=ut(t,e,n,"en"),o),addStringWithLocale:(e,n,r)=>(t=ut(t,e,n,r),o),addNamedNode:n(ft),addLiteral:n(ht),addTerm:n(pt),setUrl:r(kt),setIri:r(Tt),setBoolean:r(Nt),setDatetime:r(Lt),setDate:r(Ct),setTime:r(Pt),setDecimal:r(Mt),setInteger:r(Dt),setStringNoLocale:r(Bt),setStringEnglish:(e,n)=>(t=Ut(t,e,n,"en"),o),setStringWithLocale:(e,n,r)=>(t=Ut(t,e,n,r),o),setNamedNode:r($t),setLiteral:r(Ft),setTerm:r(qt),removeAll:e=>(t=yt(t,e),o),removeUrl:i(bt),removeIri:i(vt),removeBoolean:i(mt),removeDatetime:i(wt),removeDate:i(_t),removeTime:i(xt),removeDecimal:i(jt),removeInteger:i(At),removeStringNoLocale:i(It),removeStringEnglish:(e,n)=>Gt(Ot(t,e,n,"en")),removeStringWithLocale:(e,n,r)=>Gt(Ot(t,e,n,r)),removeNamedNode:i(Rt),removeLiteral:i(St)};return o}function zt(e){const t=S(e).type;return Array.isArray(t)&&t.includes(_.AccessControlResource)}async function Jt(e,t=j){if(!Kt(e))return{resourceAcl:null,fallbackAcl:null};try{const n=await Qt(e,t);return null===n?{resourceAcl:null,fallbackAcl:await Vt(e,t)}:{resourceAcl:n,fallbackAcl:null}}catch(e){if(e instanceof Xt)return{resourceAcl:null,fallbackAcl:null};throw e}}async function Qt(e,t=j){if(!Kt(e))return null;try{const n=await Ve(e.internal_resourceInfo.aclUrl,t);if(zt(n))throw new Xt(e,n);return L(Object.assign(Object.assign({},n),{internal_accessTo:I(e)}))}catch(e){if(e instanceof Xt)throw e;return null}}async function Vt(e,t=j){const n=new URL(I(e)),r=n.pathname;if("/"===r)return null;const i=Wt(r),o=new URL(i,n.origin).href,s=await A(o,t);if(!Kt(s))return null;const a=await Qt(s,t);return null===a?Vt(s,t):a}function Wt(e){const t="/"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return e.substring(0,t.lastIndexOf("/"))+"/"}const Ht={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function Zt(e,t){return Object.assign(b(e),{internal_acl:t})}class Xt extends Error{constructor(e,t){super(`[${R(e)}] is governed by Access Control Policies in [${R(t)}] rather than by Web Access Control.`)}}function Kt(e){return"string"==typeof e.internal_resourceInfo.aclUrl}e(a).dataset;function Yt(e){if(!tr(e))throw new Error(`An Access Control Resource for [${I(e)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return e.internal_acp.acr}function en(e,t){return Object.assign(b(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:t})})}function tn(e){let t=Pe(e);return t=Tt(t,m,_.AccessControl),t}function nn(e,t){const n=Ne(Yt(e),t),r=n.filter((e=>Se(e,m).includes(_.AccessControl))),i=n.filter((e=>Se(e,_.accessControl).length>0)).map((e=>Pe({url:Se(e,_.accessControl)[0]})));return r.concat(i)}function rn(e,t){return en(e,Le(Yt(e),t))}function on(e,t){return rt(e,_.apply,t)}function sn(e){return Se(e,_.apply)}function an(e,t){return vt(e,_.apply,t)}function ln(e){return yt(e,_.apply)}function cn(e,t){return rt(e,_.applyMembers,t)}function un(e){return Se(e,_.applyMembers)}function dn(e){return yt(e,_.applyMembers)}function fn(e){const t=nn(e);return 0===t.length?tn():t[0]}function hn(e){return d(e)&&Array.isArray(e.internal_resourceInfo.linkedResources[_.accessControl])&&1===e.internal_resourceInfo.linkedResources[_.accessControl].length}function pn(e,t){var n;const r=Yt(e),i=I(r);let o=null!==(n=Te(r,i))&&void 0!==n?n:Pe({url:i});o=rt(o,_.access,t);return en(e,Le(r,o))}function gn(e,t){var n;const r=Yt(e),i=I(r);let o=null!==(n=Te(r,i))&&void 0!==n?n:Pe({url:i});o=rt(o,_.accessMembers,t);return en(e,Le(r,o))}function yn(e){const t=Yt(e),n=Te(t,I(t));return null===n?[]:Se(n,_.access)}function bn(e){const t=Yt(e),n=Te(t,I(t));return null===n?[]:Se(n,_.accessMembers)}function vn(e,t){const n=Yt(e),r=Te(n,I(n));if(null===r)return e;return en(e,Le(n,vt(r,_.access,t)))}function mn(e,t){const n=Yt(e),r=Te(n,I(n));if(null===r)return e;return en(e,Le(n,vt(r,_.accessMembers,t)))}function wn(e){const t=Yt(e),n=Te(t,I(t));if(null===n)return e;return en(e,Le(t,yt(n,_.access)))}function _n(e){const t=Yt(e),n=Te(t,I(t));if(null===n)return e;return en(e,Le(t,yt(n,_.accessMembers)))}function xn(e,t){return rn(e,on(fn(e),t))}function jn(e,t){return rn(e,cn(fn(e),t))}function An(e){const t=nn(e).map((e=>sn(e))),n=new Set;return t.forEach((e=>{e.forEach((e=>n.add(e)))})),Array.from(n)}function On(e){const t=nn(e).map((e=>un(e))),n=new Set;return t.forEach((e=>{e.forEach((e=>n.add(e)))})),Array.from(n)}function In(e,t){return nn(e).map((e=>an(e,t))).reduce(rn,e)}function Rn(e,t){const n=nn(e).map((e=>function(e,t){return vt(e,_.applyMembers,t)}(e,t)));return n.reduce(rn,e)}function Sn(e){return nn(e).map((e=>ln(e))).reduce(rn,e)}function En(e){return nn(e).map((e=>dn(e))).reduce(rn,e)}function kn(e){let t=`# Access controls for ${I(e)}\n`;const n=An(e),r=On(e),i=yn(e),o=bn(e);return 0===n.length&&0===r.length&&0===i.length&&0===o.length&&(t+="\n<no policies specified yet>\n"),n.length>0&&(t+="\nThe following policies apply to this resource:\n- ",t+=n.join("\n- ")+"\n"),i.length>0&&(t+="\nThe following policies apply to the access control resource for this resource:\n- ",t+=i.join("\n- ")+"\n"),r.length>0&&(t+="\nThe following policies apply to the children of this resource:\n- ",t+=r.join("\n- ")+"\n"),o.length>0&&(t+="\nThe following policies apply to the access control resources for children of this resource:\n- ",t+=o.join("\n- ")+"\n"),t}const Tn="http://www.w3.org/ns/solid/acp#",Nn={AccessControl:Tn.concat("AccessControl"),AccessControlResource:Tn.concat("AccessControlResource"),AuthenticatedAgent:Tn.concat("AuthenticatedAgent"),CreatorAgent:Tn.concat("CreatorAgent"),Matcher:Tn.concat("Matcher"),Policy:Tn.concat("Policy"),PublicAgent:Tn.concat("PublicAgent"),access:Tn.concat("access"),accessControl:Tn.concat("accessControl"),agent:Tn.concat("agent"),allOf:Tn.concat("allOf"),allow:Tn.concat("allow"),anyOf:Tn.concat("anyOf"),apply:Tn.concat("apply"),client:Tn.concat("client"),deny:Tn.concat("deny"),memberAccessControl:Tn.concat("memberAccessControl"),noneOf:Tn.concat("noneOf"),vc:Tn.concat("vc")},Ln="http://www.w3.org/ns/auth/acl#",Cn={Append:Ln.concat("Append"),Control:Ln.concat("Control"),Read:Ln.concat("Read"),Write:Ln.concat("Write")};function Pn(e){const t=Yt(e);return Te(t,I(t))}const Mn="defaultAccessControl",Dn="defaultAcrAccessControl",Un="defaultMemberAccessControl",Bn="defaultMemberAcrAccessControl";function $n(e,t){return I(Yt(e)).concat("#").concat(t)}function Fn(e,t){const n=Yt(e),r=$n(e,t),i=Te(n,r);return null==i?Pe({url:r}):i}function qn(e,t){const n=Se(e,t);return{read:n.includes(Cn.Read),append:n.includes(Cn.Append),write:n.includes(Cn.Write),controlRead:!1,controlWrite:!1}}function Gn(e,t,n){let r=yt(e,n);return(t.read||t.controlRead)&&(r=rt(r,n,Cn.Read)),t.append&&(r=rt(r,n,Cn.Append)),(t.write||t.controlWrite)&&(r=rt(r,n,Cn.Write)),r}function zn(e,t){var n,r;let i=Yt(e);const o=`${R(i)}#defaultVcPolicy`,s=`${R(i)}#defaultVcMatcher`;let a=Fn(e,"defaultAccessControl"),l=null!==(n=Pn(e))&&void 0!==n?n:Gt({url:R(i)}).addIri(Nn.accessControl,a).build();Se(l,Nn.accessControl).includes(Ue(a))||(l=rt(l,Nn.accessControl,a));let c=Te(i,o);null===c&&(c=Gt({url:o}).addIri(m,Nn.Policy).addIri(Nn.anyOf,s).build(),a=rt(a,Nn.apply,c));const u=null!==(r=Te(i,s))&&void 0!==r?r:Gt({url:s}).addIri(m,Nn.Matcher).addIri(Nn.vc,"http://www.w3.org/ns/solid/vc#SolidAccessGrant").build(),d=qn(c,Nn.allow);return c=Gn(c,Object.assign(Object.assign({},d),t),Nn.allow),i=[l,a,c,u].reduce(Le,i),function(e,t){return Object.assign(b(e),{internal_acp:{acr:t}})}(e,i)}const Jn={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},Qn=(e,t,n)=>Se(e,t).includes(Ue(n));function Vn(e){const t=Yt(e),n=Fn(e,"defaultAccessControl"),r=Pn(e);if(null===r||!Qn(r,Nn.accessControl,n))return Jn;const i=Te(t,`${R(t)}#defaultVcPolicy`);if(null===i||!Qn(n,Nn.apply,i))return Jn;const o=Te(t,`${R(t)}#defaultVcMatcher`);return null!==o&&Qn(i,Nn.anyOf,o)?qn(i,Nn.allow):Jn}async function Wn(e,t=j){const n=p(e),r=Object.assign(Object.assign({},j),t),i=await Ve(n,r),o=await nr(i,r);return Object.assign(Object.assign({},i),o)}async function Hn(e,t=j){const n=p(e),r=Object.assign(Object.assign({},j),t),i=await T(n,r),o=await nr(i,r);return Object.assign(i,o)}async function Zn(e,t=j){const n=p(e),r=Object.assign(Object.assign({},j),t),i=await A(n,r),o=await nr(i,r);return Object.assign(Object.assign({},i),o)}async function Xn(e,t=j){const n=p(e),r=Object.assign(Object.assign({},j),t),i=await Ve(n,r);if(Kt(i)){return Zt(i,await Jt(i,r))}{const e=await nr(i,r);return Object.assign(Object.assign({},i),e)}}async function Kn(e,t=j){const n=p(e),r=Object.assign(Object.assign({},j),t),i=await T(n,r);if(Kt(i)){return Zt(i,await Jt(i,r))}{const e=await nr(i,r);return Object.assign(i,e)}}async function Yn(e,t=j){const n=p(e),r=Object.assign(Object.assign({},j),t),i=await A(n,r);if(Kt(i)){return Zt(i,await Jt(i,r))}{const e=await nr(i,r);return Object.assign(Object.assign({},i),e)}}async function er(e,t=j){const n=Yt(e),r=Object.assign(Object.assign({},j),t);return en(e,await We(I(n),n,r))}function tr(e){return"object"==typeof e.internal_acp&&null!==e.internal_acp&&"object"==typeof e.internal_acp.acr&&null!==e.internal_acp.acr}async function nr(e,t){let n,r;if(hn(e))n=e.internal_resourceInfo.linkedResources[_.accessControl][0];else if(Kt(e)){const r=await A(e.internal_resourceInfo.aclUrl,t);zt(r)&&(n=I(r))}if("string"!=typeof n)return{internal_acp:{acr:null}};try{r=await Ve(n,t)}catch(e){return{internal_acp:{acr:null}}}return{internal_acp:{acr:Object.assign(Object.assign({},r),{accessTo:I(e)})}}}function rr(e){const t=An(e).map(Je).concat(On(e).map(Je)).concat(yn(e).map(Je)).concat(bn(e).map(Je));return Array.from(new Set(t))}async function ir(e,t=j){const n=p(e),r=Object.assign(Object.assign({},j),t),i=await A(n,r);return tr(await nr(i,r))}function or(e){if(!d(e))return;return[_.accessControl,"acl"].map((t=>{if(Array.isArray(e.internal_resourceInfo.linkedResources[t])&&1===e.internal_resourceInfo.linkedResources[t].length)return e.internal_resourceInfo.linkedResources[t][0]})).find((e=>void 0!==e))}function sr(e){return Se(e,m).includes(_.Rule)}function ar(e,t){return rt(e,_.allOf,t)}function lr(e,t){return vt(e,_.allOf,t)}function cr(e,t){return Tt(e,_.allOf,t)}function ur(e){return Se(e,_.allOf)}function dr(e,t){return rt(e,_.anyOf,t)}function fr(e,t){return vt(e,_.anyOf,t)}function hr(e,t){return Tt(e,_.anyOf,t)}function pr(e){return Se(e,_.anyOf)}function gr(e,t){return rt(e,_.noneOf,t)}function yr(e,t){return vt(e,_.noneOf,t)}function br(e,t){return Tt(e,_.noneOf,t)}function vr(e){return Se(e,_.noneOf)}function mr(e){let t=Pe({url:p(e)});return t=kt(t,m,_.Rule),t}function wr(e,t){const n=Yt(e),r=new URL(I(n));r.hash=`#${t}`;let i=Pe({url:r.href});return i=kt(i,m,_.Rule),i}function _r(e,t){const n=Te(e,t);return null===n||Ie(n,m)!==_.Rule?null:n}function xr(e,t){const n=Yt(e),r=I(n),i=new URL(r);i.hash=`#${t}`;const o=Te(n,i.href);return null!==o&&sr(o)?o:null}function jr(e){return Ne(e).filter(sr)}function Ar(e){return Ne(Yt(e)).filter(sr)}function Or(e,t){return Ce(e,t)}function Ir(e,t){const n=Yt(e);let r;if("string"==typeof t)try{new URL(t),r=t}catch(e){const i=new URL(I(n));i.hash=`#${t}`,r=i.href}else r=ne(t)?p(t):De(t);const i=xr(e,new URL(r).hash.substring(1));if(null===i)return e;return en(e,Ce(n,i))}function Rr(e,t){return Le(e,t)}function Sr(e,t){return en(e,Le(Yt(e),t))}function Er(e){return Se(e,_.agent).filter((e=>e!==_.PublicAgent&&e!==_.AuthenticatedAgent&&e!==_.CreatorAgent))}function kr(e,t){const n=Dr(e),r=$r(e),i=Gr(e);let o=Tt(e,_.agent,t);return n&&(o=Ur(o)),r&&(o=Fr(o)),i&&(o=zr(o)),o}function Tr(e,t){return rt(e,_.agent,t)}function Nr(e,t){return vt(e,_.agent,t)}function Lr(e){return Se(e,_.group)}function Cr(e,t){return Tt(e,_.group,t)}function Pr(e,t){return rt(e,_.group,t)}function Mr(e,t){return vt(e,_.group,t)}function Dr(e){return Se(e,_.agent).filter((e=>e===_.PublicAgent)).length>0}function Ur(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return rt(e,_.agent,_.PublicAgent)}function Br(e){return vt(e,_.agent,_.PublicAgent)}function $r(e){return Se(e,_.agent).filter((e=>e===_.AuthenticatedAgent)).length>0}function Fr(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return rt(e,_.agent,_.AuthenticatedAgent)}function qr(e){return vt(e,_.agent,_.AuthenticatedAgent)}function Gr(e){return Se(e,_.agent).filter((e=>e===_.CreatorAgent)).length>0}function zr(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return rt(e,_.agent,_.CreatorAgent)}function Jr(e){return vt(e,_.agent,_.CreatorAgent)}function Qr(e){return Se(e,_.client).filter((e=>e!==x))}function Vr(e,t){const n=Zr(e);let r=Tt(e,_.client,t);return n&&(r=Xr(r)),r}function Wr(e,t){return rt(e,_.client,t)}function Hr(e,t){return vt(e,_.client,t)}function Zr(e){return Se(e,_.client).filter((e=>e===x)).length>0}function Xr(e){return rt(e,_.client,x)}function Kr(e){return vt(e,_.client,x)}function Yr(e){let t=`## Rule: ${De(e)}\n\n`,n="";Dr(e)&&(n+="- Everyone\n"),$r(e)&&(n+="- All authenticated agents\n"),Gr(e)&&(n+="- The creator of this resource\n"),Zr(e)&&(n+="- Users of any client application\n");const r=Er(e);r.length>0&&(n+="- The following agents:\n  - ",n+=r.join("\n  - ")+"\n");const i=Lr(e);i.length>0&&(n+="- Members of the following groups:\n  - ",n+=i.join("\n  - ")+"\n");const o=Qr(e);return o.length>0&&(n+="- Users of the following client applications:\n  - ",n+=o.join("\n  - ")+"\n"),t+=n.length>0?"This rule applies to:\n"+n:"<empty>\n",t}function ei(e){return Se(e,m).includes(_.Policy)}function ti(e){let t=Pe({url:p(e)});return t=kt(t,m,_.Policy),t}function ni(e,t){const n=Te(e,t);return null!==n&&ei(n)?n:null}function ri(e){return Ne(e).filter((e=>!Be(e)&&ei(e)))}function ii(e,t){return Ce(e,t)}function oi(e,t){return Le(e,t)}function si(e,t){let n=yt(e,_.allow);return!0===t.read&&(n=rt(n,_.allow,Ht.read)),!0===t.append&&(n=rt(n,_.allow,Ht.append)),!0===t.write&&(n=rt(n,_.allow,Ht.write)),n}function ai(e,t){let n=yt(e,_.allow);return!0===t.read&&(n=rt(n,_.allow,_.Read)),!0===t.append&&(n=rt(n,_.allow,_.Append)),!0===t.write&&(n=rt(n,_.allow,_.Write)),n}function li(e){const t=Se(e,_.allow);return{read:t.includes(Ht.read),append:t.includes(Ht.append),write:t.includes(Ht.write)}}function ci(e){const t=Se(e,_.allow);return{read:t.includes(_.Read),append:t.includes(_.Append),write:t.includes(_.Write)}}function ui(e,t){let n=yt(e,_.deny);return!0===t.read&&(n=rt(n,_.deny,Ht.read)),!0===t.append&&(n=rt(n,_.deny,Ht.append)),!0===t.write&&(n=rt(n,_.deny,Ht.write)),n}function di(e,t){let n=yt(e,_.deny);return!0===t.read&&(n=rt(n,_.deny,_.Read)),!0===t.append&&(n=rt(n,_.deny,_.Append)),!0===t.write&&(n=rt(n,_.deny,_.Write)),n}function fi(e){const t=Se(e,_.deny);return{read:t.includes(Ht.read),append:t.includes(Ht.append),write:t.includes(Ht.write)}}function hi(e){const t=Se(e,_.deny);return{read:t.includes(_.Read),append:t.includes(_.Append),write:t.includes(_.Write)}}function pi(e,t){const n=Yt(e),r=new URL(I(n));r.hash=`#${t}`;let i=Pe({url:r.href});return i=kt(i,m,_.Policy),i}function gi(e,t){const n=Yt(e),r=I(n),i=new URL(r);i.hash=`#${t}`;const o=Te(n,i.href);return An(e).includes(i.href)&&null!==o&&ei(o)?o:null}function yi(e,t){const n=Yt(e),r=I(n),i=new URL(r);i.hash=`#${t}`;const o=Te(n,i.href);return yn(e).includes(i.href)&&null!==o&&ei(o)?o:null}function bi(e){const t=Yt(e);return An(e).map((e=>Te(t,e))).filter((e=>null!==e&&ei(e)))}function vi(e){const t=Yt(e);return yn(e).map((e=>Te(t,e))).filter((e=>null!==e&&ei(e)))}function mi(e,t){const n=Yt(e);let r,i=t;if("string"==typeof i)try{new URL(i)}catch(e){const r=new URL(I(n));r.hash=`#${t}`,i=r.href}r="string"==typeof i?i:ne(i)?p(i):De(i,I(n));if(null===gi(e,new URL(r).hash.substring(1)))return e;return In(en(e,Ce(n,i)),r)}function wi(e,t){const n=Yt(e);let r,i=t;if("string"==typeof i)try{new URL(i)}catch(e){const r=new URL(I(n));r.hash=`#${t}`,i=r.href}r="string"==typeof i?i:ne(i)?p(i):De(i,I(n));if(null===yi(e,new URL(r).hash.substring(1)))return e;return vn(en(e,Ce(n,i)),r)}function _i(e,t){const n=Yt(e);return xn(en(e,Le(n,t)),De(t,I(n)))}function xi(e,t){const n=Yt(e);return pn(en(e,Le(n,t)),De(t,I(n)))}function ji(e){function t(e,t){return t?"denied":e?"allowed":"unspecified"}const n=ci(e),r=hi(e);let i=`## Policy: ${De(e)}\n\n`;i+=`- Read: ${t(n.read,r.read)}\n`,i+=`- Append: ${t(n.append,r.append)}\n`,i+=`- Write: ${t(n.write,r.write)}\n`;const o=ur(e),s=pr(e),a=vr(e);return 0===o.length&&0===s.length&&0===a.length&&(i+="\n<no rules specified yet>\n"),o.length>0&&(i+="\nAll of these rules should match:\n",i+="- "+o.join("\n- ")+"\n"),s.length>0&&(i+="\nAt least one of these rules should match:\n",i+="- "+s.join("\n- ")+"\n"),a.length>0&&(i+="\nNone of these rules should match:\n",i+="- "+a.join("\n- ")+"\n"),i}function Ai(e){const t=new URL("access-control-resource",e).href;return Object.assign(Object.assign({},tt(t)),{accessTo:e})}function Oi(e,t=Ai(I(e))){return Object.assign(b(e),{internal_acp:{acr:t,aprs:{}}})}const Ii={getFileWithAccessDatasets:Kn,getFileWithAcr:Hn,getReferencedPolicyUrlAll:rr,getResourceInfoWithAccessDatasets:Yn,getResourceInfoWithAcr:Zn,getSolidDatasetWithAccessDatasets:Xn,getSolidDatasetWithAcr:Wn,hasAccessibleAcr:tr,saveAcrFor:er},Ri={acrAsMarkdown:kn,addAcrPolicyUrl:pn,addMemberAcrPolicyUrl:gn,addMemberPolicyUrl:jn,addPolicyUrl:xn,getAcrPolicyUrlAll:yn,getMemberAcrPolicyUrlAll:bn,getMemberPolicyUrlAll:On,getPolicyUrlAll:An,hasLinkedAcr:hn,removeAcrPolicyUrl:vn,removeAcrPolicyUrlAll:wn,removeMemberAcrPolicyUrl:mn,removeMemberAcrPolicyUrlAll:_n,removeMemberPolicyUrl:Rn,removeMemberPolicyUrlAll:En,removePolicyUrl:In,removePolicyUrlAll:Sn},Si={createPolicy:ti,getAllowModes:ci,getDenyModes:hi,getPolicy:ni,getPolicyAll:ri,policyAsMarkdown:ji,removePolicy:ii,setAllowModes:ai,setDenyModes:di,setPolicy:oi},Ei={addAgent:Tr,addForbiddenRuleUrl:gr,addGroup:Pr,addOptionalRuleUrl:dr,addRequiredRuleUrl:ar,createRule:mr,getAgentAll:Er,getForbiddenRuleUrlAll:vr,getGroupAll:Lr,getOptionalRuleUrlAll:pr,getRequiredRuleUrlAll:ur,getRule:_r,getRuleAll:jr,hasAuthenticated:$r,hasCreator:Gr,hasPublic:Dr,removeAgent:Nr,removeForbiddenRuleUrl:yr,removeGroup:Mr,removeOptionalRuleUrl:fr,removeRequiredRuleUrl:lr,removeRule:Or,ruleAsMarkdown:Yr,setAgent:kr,setForbiddenRuleUrl:br,setGroup:Cr,setOptionalRuleUrl:hr,setRequiredRuleUrl:cr,setRule:Rr},ki={addMockAcrTo:Oi,mockAcrFor:Ai};function Ti(e,t){return t?Ur(e):Br(e)}function Ni(e,t){return t?Fr(e):qr(e)}function Li(e,t){return t?zr(e):Jr(e)}const Ci={getForbiddenRuleurlAll:vr,setPublic:Ti,setAuthenticated:Ni,setCreator:Li},Pi=(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ii),Ri),Si),Ei),ki),Ci),{getFileWithAccessDatasets:Kn,getFileWithAcr:Hn,getReferencedPolicyUrlAll:rr,getResourceInfoWithAccessDatasets:Yn,getResourceInfoWithAcr:Zn,getSolidDatasetWithAccessDatasets:Xn,getSolidDatasetWithAcr:Wn,hasAccessibleAcr:tr,saveAcrFor:er}),Mi={createPolicy:ti,getAllowModes:ci,getDenyModes:hi,getPolicy:ni,getPolicyAll:ri,policyAsMarkdown:ji,removePolicy:ii,setAllowModes:ai,setDenyModes:di,setPolicy:oi},Di={addAgent:Tr,addForbiddenRuleUrl:gr,addGroup:Pr,addOptionalRuleUrl:dr,addRequiredRuleUrl:ar,createRule:mr,getAgentAll:Er,getForbiddenRuleUrlAll:vr,getGroupAll:Lr,getOptionalRuleUrlAll:pr,getRequiredRuleUrlAll:ur,getRule:_r,getRuleAll:jr,hasAuthenticated:$r,hasCreator:Gr,hasPublic:Dr,removeAgent:Nr,removeForbiddenRuleUrl:yr,removeGroup:Mr,removeOptionalRuleUrl:fr,removeRequiredRuleUrl:lr,removeRule:Or,ruleAsMarkdown:Yr,setAgent:kr,setForbiddenRuleUrl:br,setGroup:Cr,setOptionalRuleUrl:hr,setRequiredRuleUrl:cr,setRule:Rr},Ui={addMockAcrTo:Oi,mockAcrFor:Ai},Bi={hasLinkedAcr:hn,addAcrPolicyUrl:pn,addMemberAcrPolicyUrl:gn,getAcrPolicyUrlAll:yn,getMemberAcrPolicyUrlAll:bn,removeAcrPolicyUrl:vn,removeAcrPolicyUrlAll:wn,removeMemberAcrPolicyUrl:mn,removeMemberAcrPolicyUrlAll:_n},$i={createControl:tn,getControl:function(e,t,n){const r=Te(Yt(e),t,n);return null!==r&&Se(r,m).includes(_.AccessControl)?r:null},getAllControl:nn,getControlAll:nn,setControl:rn,removeControl:function(e,t){const n=Ce(Yt(e),t);return en(e,n)},addPolicyUrl:on,getPolicyUrlAll:sn,removePolicyUrl:an,removePolicyUrlAll:ln,addMemberPolicyUrl:cn,getMemberPolicyUrlAll:un,removeMemberPolicyUrl:un,removeMemberPolicyUrlAll:dn,getForbiddenRuleurlAll:vr,setPublic:Ti,setAuthenticated:Ni,setCreator:Li};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi),Mi),Di),Ui),Bi),$i);const Fi={getFileWithAccessDatasets:Kn,getFileWithAcr:Hn,getLinkedAcrUrl:or,getReferencedPolicyUrlAll:rr,getResourceInfoWithAccessDatasets:Yn,getResourceInfoWithAcr:Zn,getSolidDatasetWithAccessDatasets:Xn,getSolidDatasetWithAcr:Wn,hasAccessibleAcr:tr,saveAcrFor:er,isAcpControlled:ir},qi={acrAsMarkdown:kn,addAcrPolicyUrl:pn,addMemberAcrPolicyUrl:gn,addMemberPolicyUrl:jn,addPolicyUrl:xn,getAcrPolicyUrlAll:yn,getMemberAcrPolicyUrlAll:bn,getMemberPolicyUrlAll:On,getPolicyUrlAll:An,hasLinkedAcr:hn,removeAcrPolicyUrl:vn,removeAcrPolicyUrlAll:wn,removeMemberAcrPolicyUrl:mn,removeMemberAcrPolicyUrlAll:_n,removeMemberPolicyUrl:Rn,removeMemberPolicyUrlAll:En,removePolicyUrl:In,removePolicyUrlAll:Sn},Gi={createPolicy:ti,getAllowModes:ci,getDenyModes:hi,getPolicy:ni,getPolicyAll:ri,policyAsMarkdown:ji,removePolicy:ii,setAllowModes:ai,setDenyModes:di,setPolicy:oi,createResourcePolicyFor:pi,getResourceAcrPolicy:yi,getResourceAcrPolicyAll:vi,getResourcePolicy:gi,getResourcePolicyAll:bi,removeResourceAcrPolicy:wi,removeResourcePolicy:mi,setResourceAcrPolicy:xi,setResourcePolicy:_i},zi={addAgent:Tr,addGroup:Pr,createRule:mr,getAgentAll:Er,getGroupAll:Lr,getRule:_r,getRuleAll:jr,removeAgent:Nr,removeGroup:Mr,removeRule:Or,ruleAsMarkdown:Yr,setAgent:kr,setGroup:Cr,setRule:Rr,addClient:Wr,getClientAll:Qr,hasAnyClient:Zr,removeClient:Hr,setAnyClient:Xr,setClient:Vr,removeAnyClient:Kr,hasAuthenticated:$r,hasCreator:Gr,hasPublic:Dr,setAuthenticated:Fr,setCreator:zr,setPublic:Ur,removeAuthenticated:qr,removeCreator:Jr,removePublic:Br,getAnyOfRuleUrlAll:pr,addAnyOfRuleUrl:dr,removeAnyOfRuleUrl:fr,setAnyOfRuleUrl:hr,getAllOfRuleUrlAll:ur,addAllOfRuleUrl:ar,removeAllOfRuleUrl:lr,setAllOfRuleUrl:cr,getNoneOfRuleUrlAll:vr,addNoneOfRuleUrl:gr,removeNoneOfRuleUrl:yr,setNoneOfRuleUrl:br,createResourceRuleFor:wr,getResourceRule:xr,getResourceRuleAll:Ar,removeResourceRule:Ir,setResourceRule:Sr},Ji={addMockAcrTo:Oi,mockAcrFor:Ai};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fi),qi),Gi),zi),Ji);function Qi(e,t){return Object.assign(b(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:Le(e.internal_acp.acr,t)})})}function Vi(e){return e.includes("Member")?Nn.memberAccessControl:Nn.accessControl}function Wi(e,t){const n=$n(e,t),r=Yt(e);let i=Pn(e);null==i&&(i=Pe({url:I(r)}));return Se(i,Vi(t)).includes(n)?e:(i=Gt(i).addUrl(Vi(t),n).build(),Qi(e,i))}function Hi(e,t){const n=Wi(e,Dn);return Qi(n,Gt(Fn(n,Dn)).addUrl(Nn.access,t).build())}function Zi(e,t){const n=Wi(e,Bn);return Qi(n,Gt(Fn(n,Bn)).addUrl(Nn.access,t).build())}function Xi(e,t){const n=Wi(e,Un);return Qi(n,Gt(Fn(n,Un)).addUrl(Nn.apply,t).build())}function Ki(e,t){const n=Wi(e,Mn);return Qi(n,Gt(Fn(n,Mn)).addUrl(Nn.apply,t).build())}function Yi(e){const t=Pn(e);return null===t?[]:Se(t,Nn.accessControl)}function eo(e,t,n){const r=Yt(e);return Array.from(new Set(t.map((e=>{const t=Te(r,e);return null!==t?Se(t,n):[]})).reduce(((e,t)=>e.concat(t)),[])))}function to(e){return eo(e,Yi(e),Nn.access)}function no(e){const t=Pn(e);return null===t?[]:Se(t,Nn.memberAccessControl)}function ro(e){return eo(e,no(e),Nn.access)}function io(e){return eo(e,no(e),Nn.apply)}function oo(e){return eo(e,Yi(e),Nn.apply)}function so(e,t){const n=Fn(e,Dn);return Qi(e,vt(n,Nn.access,t))}function ao(e,t){const n=Fn(e,Bn);return Qi(e,vt(n,Nn.access,t))}function lo(e,t){const n=Fn(e,Un);return Qi(e,vt(n,Nn.apply,t))}function co(e,t){const n=Fn(e,Mn);return Qi(e,vt(n,Nn.apply,t))}function uo(e,t){return Qi(e,t)}function fo(e){return Se(e,m).includes(_.Matcher)}function ho(e,t){return rt(e,_.allOf,t)}function po(e,t){return vt(e,_.allOf,t)}function go(e,t){return Tt(e,_.allOf,t)}function yo(e){return Se(e,_.allOf)}function bo(e,t){return rt(e,_.anyOf,t)}function vo(e,t){return vt(e,_.anyOf,t)}function mo(e,t){return Tt(e,_.anyOf,t)}function wo(e){return Se(e,_.anyOf)}function _o(e,t){return rt(e,_.noneOf,t)}function xo(e,t){return vt(e,_.noneOf,t)}function jo(e,t){return Tt(e,_.noneOf,t)}function Ao(e){return Se(e,_.noneOf)}function Oo(e){let t=Pe({url:p(e)});return t=kt(t,m,_.Matcher),t}function Io(e,t){const n=Yt(e),r=new URL(I(n));r.hash=`#${t}`;let i=Pe({url:r.href});return i=kt(i,m,_.Matcher),i}function Ro(e,t){const n=Te(e,t);return null!==n&&fo(n)?n:null}function So(e,t){const n=Yt(e),r=I(n),i=new URL(r);i.hash=`#${t}`;const o=Te(n,i.href);return null!==o&&fo(o)?o:null}function Eo(e){return Ne(e).filter(fo)}function ko(e){return Ne(Yt(e)).filter(fo)}function To(e,t){return Ce(e,t)}function No(e,t){const n=Yt(e);let r;if("string"==typeof t)try{new URL(t),r=t}catch(e){const i=new URL(I(n));i.hash=`#${t}`,r=i.href}else r=ne(t)?p(t):De(t);const i=So(e,new URL(r).hash.substring(1));if(null===i)return e;return en(e,Ce(n,i))}function Lo(e,t){return Le(e,t)}function Co(e,t){return en(e,Le(Yt(e),t))}function Po(e){return Se(e,_.agent).filter((e=>e!==_.PublicAgent&&e!==_.AuthenticatedAgent&&e!==_.CreatorAgent))}function Mo(e,t){const n=Bo(e),r=qo(e),i=Jo(e);let o=Tt(e,_.agent,t);return n&&(o=$o(o)),r&&(o=Go(o)),i&&(o=Qo(o)),o}function Do(e,t){return rt(e,_.agent,t)}function Uo(e,t){return vt(e,_.agent,t)}function Bo(e){return Se(e,_.agent).filter((e=>e===_.PublicAgent)).length>0}function $o(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return rt(e,_.agent,_.PublicAgent)}function Fo(e){return vt(e,_.agent,_.PublicAgent)}function qo(e){return Se(e,_.agent).filter((e=>e===_.AuthenticatedAgent)).length>0}function Go(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return rt(e,_.agent,_.AuthenticatedAgent)}function zo(e){return vt(e,_.agent,_.AuthenticatedAgent)}function Jo(e){return Se(e,_.agent).filter((e=>e===_.CreatorAgent)).length>0}function Qo(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return rt(e,_.agent,_.CreatorAgent)}function Vo(e){return vt(e,_.agent,_.CreatorAgent)}function Wo(e){return Se(e,_.client).filter((e=>e!==x)).concat((t=e,n=_.client,je(t),ke(t,n,J)));var t,n}function Ho(e,t){return oe(t)?rt(e,_.client,t):dt(e,_.client,t)}function Zo(e,t){return oe(t)?vt(e,_.client,t):It(e,_.client,t)}function Xo(e){return Se(e,_.client).filter((e=>e===x)).length>0}function Ko(e){return rt(e,_.client,x)}const Yo={getFileWithAccessDatasets:Kn,getFileWithAcr:Hn,getReferencedPolicyUrlAll:rr,getResourceInfoWithAccessDatasets:Yn,getResourceInfoWithAcr:Zn,getSolidDatasetWithAccessDatasets:Xn,getSolidDatasetWithAcr:Wn,hasAccessibleAcr:tr,saveAcrFor:er,isAcpControlled:ir,getVcAccess:Vn,setVcAccess:zn},es={addAcrPolicyUrl:Hi,addMemberAcrPolicyUrl:Zi,addMemberPolicyUrl:Xi,addPolicyUrl:Ki,getAcrPolicyUrlAll:to,getMemberAcrPolicyUrlAll:ro,getMemberPolicyUrlAll:io,getPolicyUrlAll:oo,hasLinkedAcr:hn,removeAcrPolicyUrl:so,removeAcrPolicyUrlAll:wn,removeMemberAcrPolicyUrl:ao,removeMemberAcrPolicyUrlAll:_n,removeMemberPolicyUrl:lo,removeMemberPolicyUrlAll:En,removePolicyUrl:co,removePolicyUrlAll:Sn},ts={createPolicy:ti,getAllowModes:li,getDenyModes:fi,getPolicy:ni,getPolicyAll:ri,removePolicy:ii,setAllowModes:si,setDenyModes:ui,setPolicy:oi,createResourcePolicyFor:pi,getResourceAcrPolicy:yi,getResourceAcrPolicyAll:vi,getResourcePolicy:gi,getResourcePolicyAll:bi,removeResourceAcrPolicy:wi,removeResourcePolicy:mi,setResourcePolicy:uo},ns={addAgent:Do,createMatcher:Oo,getAgentAll:Po,getMatcher:Ro,getMatcherAll:Eo,removeAgent:Uo,removeMatcher:To,setAgent:Mo,setMatcher:Lo,addClient:Ho,getClientAll:Wo,hasAnyClient:Xo,removeClient:Zo,setAnyClient:Ko,setClient:function(e,t){const n=Xo(e);let r=Tt(e,_.client,t);return n&&(r=Ko(r)),r},removeAnyClient:function(e){return vt(e,_.client,x)},hasAuthenticated:qo,hasCreator:Jo,hasPublic:Bo,setAuthenticated:Go,setCreator:Qo,setPublic:$o,removeAuthenticated:zo,removeCreator:Vo,removePublic:Fo,getAnyOfMatcherUrlAll:wo,addAnyOfMatcherUrl:bo,removeAnyOfMatcherUrl:vo,setAnyOfMatcherUrl:mo,getAllOfMatcherUrlAll:yo,addAllOfMatcherUrl:ho,removeAllOfMatcherUrl:po,setAllOfMatcherUrl:go,getNoneOfMatcherUrlAll:Ao,addNoneOfMatcherUrl:_o,removeNoneOfMatcherUrl:xo,setNoneOfMatcherUrl:jo,createResourceMatcherFor:Io,getResourceMatcher:So,getResourceMatcherAll:ko,removeResourceMatcher:No,setResourceMatcher:Co},rs={addMockAcrTo:Oi,mockAcrFor:Ai};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Yo),es),ts),ns),rs),_.agent,_.group;_.agent})),o.register("ewyr8",(function(e,t){var n=o("6ZWSX").Buffer,r=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,s=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,l=/[;,"]/,c=/[;,"]|\s/,u=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,d=1,f=2,h=4;function p(e){return e.replace(i,"")}function g(e){return s.test(e)}function y(e,t){for(;g(e[t]);)t++;return t}function b(e){return c.test(e)||!u.test(e)}class v{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],n=e.toLowerCase(),r=0;r<this.refs.length;r++)this.refs[r].rel.toLowerCase()===n&&t.push(this.refs[r]);return t}get(e,t){e=e.toLowerCase();for(var n=[],r=0;r<this.refs.length;r++)this.refs[r][e]===t&&n.push(this.refs[r]);return n}set(e){return this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var n=0;n<this.refs.length;n++)if(this.refs[n][e]===t)return!0;return!1}parse(e,t){e=p(e=(t=t||0)?e.slice(t):e).replace(a,"");for(var n=d,r=e.length,i=(t=0,null);t<r;)if(n===d){if(g(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=i&&(null!=i.rel?this.refs.push(...v.expandRelations(i)):this.refs.push(i)),-1===(c=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);i={uri:e.slice(t+1,c)},t=c,n=f,t++}else if(n===f){if(g(e[t])){t++;continue}if(";"===e[t])n=h,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);n=d,t++}}else{if(n!==h)throw new Error('Unknown parser state "'+n+'"');if(";"===e[t]||g(e[t])){t++;continue}if(-1===(c=e.indexOf("=",t)))throw new Error("Expected attribute delimiter at offset "+t);var o=p(e.slice(t,c)).toLowerCase(),s="";if('"'===e[t=y(e,t=c+1)])for(t++;t<r;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,s+=e[t],t++}else{for(var c=t+1;!l.test(e[c])&&c<r;)c++;s=e.slice(t,c),t=c}switch(i[o]&&v.isSingleOccurenceAttr(o)||("*"===o[o.length-1]?i[o]=v.parseExtendedValue(s):(s="type"===o?s.toLowerCase():s,null!=i[o]?Array.isArray(i[o])?i[o].push(s):i[o]=[i[o],s]:i[o]=s)),e[t]){case",":n=d;break;case";":n=h}t++}return null!=i&&(null!=i.rel?this.refs.push(...v.expandRelations(i)):this.refs.push(i)),i=null,this}toString(){for(var e=[],t="",n=null,r=0;r<this.refs.length;r++)n=this.refs[r],t=Object.keys(this.refs[r]).reduce((function(e,t){return"uri"===t?e:e+"; "+v.formatAttribute(t,n[t])}),"<"+n.uri+">"),e.push(t);return e.join(", ")}}v.isCompatibleEncoding=function(e){return r.test(e)},v.parse=function(e,t){return(new v).parse(e,t)},v.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},v.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},v.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},v.expandRelations=function(e){return e.rel.split(" ").map((function(t){var n=Object.assign({},e);return n.rel=t,n}))},v.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:v.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:v.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},v.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(n.isBuffer(t.value)&&v.isCompatibleEncoding(r)?t.value.toString(r):n.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},v.formatAttribute=function(e,t){return Array.isArray(t)?t.map((t=>v.formatAttribute(e,t))).join("; "):"*"===e[e.length-1]||"string"!=typeof t?v.formatExtendedAttribute(e,t):(v.isTokenAttr(e)?t=b(t)?'"'+v.escapeQuotes(t)+'"':v.escapeQuotes(t):b(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=v})),o.register("6ZWSX",(function(e,n){var r,i,s,a;t(e.exports,"Buffer",(()=>r),(e=>r=e)),t(e.exports,"SlowBuffer",(()=>i),(e=>i=e)),t(e.exports,"INSPECT_MAX_BYTES",(()=>s),(e=>s=e)),t(e.exports,"kMaxLength",(()=>a),(e=>a=e));var l=o("kuxul"),c=o("9NvM5");const u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r=h,i=function(e){+e!=e&&(e=0);return h.alloc(+e)},s=50;const d=2147483647;function f(e){if(e>d)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return y(e)}return p(e,t,n)}function p(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|w(e,t);let r=f(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){const t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return b(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return v(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return v(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return h.from(r,t,n);const i=function(e){if(h.isBuffer(e)){const t=0|m(e.length),n=f(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||te(e.length)?f(0):b(e);if("Buffer"===e.type&&Array.isArray(e.data))return b(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function g(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function y(e){return g(e),f(e<0?0:0|m(e))}function b(e){const t=e.length<0?0:0|m(e.length),n=f(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function v(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,h.prototype),r}function m(e){if(e>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|e}function w(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:X(e).length;t=(""+t).toLowerCase(),i=!0}}function _(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function j(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:A(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):A(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,n,r,i){let o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function O(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(te(r))return s;e[n+s]=r}return s}function I(e,t,n,r){return Y(X(t,e.length-n),e,n,r)}function R(e,t,n,r){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return Y(K(t),e,n,r)}function E(e,t,n,r){return Y(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?l.fromByteArray(e):l.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}(r)}a=d,h.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,n){return p(e,t,n)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,n){return function(e,t,n){return g(e),e<=0?f(e):void 0!==t?"string"==typeof n?f(e).fill(t,n):f(e).fill(t):f(e)}(e,t,n)},h.allocUnsafe=function(e){return y(e)},h.allocUnsafeSlow=function(e){return y(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=h.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(ee(t,Uint8Array))i+t.length>r.length?(h.isBuffer(t)||(t=h.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!h.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)x(this,t,t+1);return this},h.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},h.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},h.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):_.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){let e="";const t=s;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(h.prototype[u]=h.prototype.inspect),h.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),l=this.slice(r,i),c=e.slice(t,n);for(let e=0;e<a;++e)if(l[e]!==c[e]){o=l[e],s=c[e];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return j(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return j(this,e,t,n,!1)},h.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return O(this,e,t,n);case"utf8":case"utf-8":return I(this,e,t,n);case"ascii":case"latin1":case"binary":return R(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function L(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=ne[e[r]];return i}function M(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function $(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function F(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,4),c.write(e,t,n,r,23,4),n+4}function G(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,8),c.write(e,t,n,r,52,8),n+8}h.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=re((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=re((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=re((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),h.prototype.readBigInt64BE=re((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){U(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){U(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=re((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=re((function(e,t=0){return $(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},h.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=re((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=re((function(e,t=0){return $(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return G(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return G(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,r){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},h.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=h.isBuffer(e)?e:h.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const z={};function J(e,t,n){z[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Q(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new z.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,i,o)}function W(e,t){if("number"!=typeof e)throw new z.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new z.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}J("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),J("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),J("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=Q(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=Q(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const Z=/[^+/0-9A-Za-z-_]/g;function X(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return l.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!=e}const ne=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function re(e){return"undefined"==typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}})),o.register("kuxul",(function(e,n){var r,i;t(e.exports,"toByteArray",(()=>r),(e=>r=e)),t(e.exports,"fromByteArray",(()=>i),(e=>i=e)),r=function(e){var t,n,r=d(e),i=r[0],o=r[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),c=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===o&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===o&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},i=function(e){for(var t,n=e.length,r=n%3,i=[],s=16383,a=0,l=n-r;a<l;a+=s)i.push(f(e,a,a+s>l?l:a+s));1===r?(t=e[n-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)o[c]=l[c],s[l.charCodeAt(c)]=c;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var r,i,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63})),o.register("9NvM5",(function(e,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var r,i;t(e.exports,"read",(()=>r),(e=>r=e)),t(e.exports,"write",(()=>i),(e=>i=e)),r=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},i=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*g}})),o.register("conuX",(function(e,t){var n=o("4SlQg");e.exports=n})),o.register("4SlQg",(function(e,t){var n=o("h5GdX"),r=o("3glqU"),i=o("6S8B1"),s=o("6x09A"),a=o("8i6Gl"),l=o("jgv1Z"),c=o("eOizX");const u={namedNode:function(e){return new a(e)},blankNode:function(e){return new n(e)},literal:function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new s(e,t):new s(e,null,u.namedNode(t)):new s(e,null,t)},variable:function(e){return new c(e)},defaultGraph:function(){return u.defaultGraphInstance},triple:function(e,t,n){return u.quad(e,t,n)},quad:function(e,t,n,r){return new l(e,t,n,r||u.defaultGraphInstance)},fromTerm:function(e){return i.call(u,e)},fromQuad:function(e){return i.call(u,e)},defaultGraphInstance:new r};e.exports=u})),o.register("h5GdX",(function(e,t){class n{constructor(e){this.value=e||"b"+ ++n.nextId}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}n.prototype.termType="BlankNode",n.nextId=0,e.exports=n})),o.register("3glqU",(function(e,t){class n{equals(e){return!!e&&e.termType===this.termType}}n.prototype.termType="DefaultGraph",n.prototype.value="",e.exports=n})),o.register("6S8B1",(function(e,t){e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){const t=this.fromTerm(e.subject),n=this.fromTerm(e.predicate),r=this.fromTerm(e.object),i=this.fromTerm(e.graph);return this.quad(t,n,r,i)}if("Variable"===e.termType)return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}})),o.register("6x09A",(function(e,t){var n=o("8i6Gl");class r{constructor(e,t,n){this.value=e,this.datatype=r.stringDatatype,this.language="",t?(this.language=t,this.datatype=r.langStringDatatype):n&&(this.datatype=n)}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}r.prototype.termType="Literal",r.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),r.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=r})),o.register("8i6Gl",(function(e,t){class n{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}n.prototype.termType="NamedNode",e.exports=n})),o.register("jgv1Z",(function(e,t){var n=o("3glqU");class r{constructor(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}r.prototype.termType="Quad",r.prototype.value="",e.exports=r})),o.register("eOizX",(function(e,t){class n{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}n.prototype.termType="Variable",e.exports=n})),o.register("169n5",(function(e,t){var n=o("conuX"),r=o("kSCVb");e.exports=Object.assign({dataset:function(e){return new r(e)}},n)})),o.register("kSCVb",(function(e,t){function n(e){return"string"==typeof e||e instanceof String}function r(e){if("string"==typeof e)return e;if(!e)return"";if(void 0!==e.id&&"Quad"!==e.termType)return e.id;let t,n,i,s;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return e.language?`"${e.value}"@${e.language}`:`"${e.value}"${e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?`^^${e.datatype.value}`:""}`;case"Quad":return t=o(r(e.subject)),n=o(r(e.predicate)),i=o(r(e.object)),s="DefaultGraph"===e.graph.termType?"":` ${r(e.graph)}`,`<<${t} ${n} ${i}${s}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}const i=/^"(.*".*)(?="[^"]*$)/;function o(e){return e.replace(i,((e,t)=>`"${t.replace(/"/g,'""')}`))}class s{constructor(e){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e)for(const t of e)this.add(t)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let n,r;for(const i in t)for(const o in n=t[i].subjects)for(const t in r=n[o])e+=Object.keys(r[t]).length;return this._size=e,this._size}add(e){let t=r(e.subject),n=r(e.predicate),i=r(e.object);const o=r(e.graph);let s=this._graphs[o];s||(s=this._graphs[o]={subjects:{},predicates:{},objects:{}},Object.freeze(s));const a=this._ids,l=this._entities;return t=a[t]||(a[l[++this._id]=t]=this._id),n=a[n]||(a[l[++this._id]=n]=this._id),i=a[i]||(a[l[++this._id]=i]=this._id),this._addToIndex(s.subjects,t,n,i),this._addToIndex(s.predicates,n,i,t),this._addToIndex(s.objects,i,t,n),this._setQuad(t,n,i,o,e),this._size=null,this}delete(e){let t=r(e.subject),n=r(e.predicate),i=r(e.object);const o=r(e.graph),s=this._ids,a=this._graphs;let l,c,u;if(!((t=s[t])&&(n=s[n])&&(i=s[i])&&(l=a[o])&&(c=l.subjects[t])&&(u=c[n])&&i in u))return this;for(t in this._removeFromIndex(l.subjects,t,n,i),this._removeFromIndex(l.predicates,n,i,t),this._removeFromIndex(l.objects,i,t,n),null!==this._size&&this._size--,this._deleteQuad(t,n,i,o),l.subjects)return this;return delete a[o],this}has(e){const t=r(e.subject),i=r(e.predicate),o=r(e.object),s=r(e.graph),a=this._graphs[s];if(!a)return!1;const l=this._ids;let c,u,d;return!(n(t)&&!(c=l[t])||n(i)&&!(u=l[i])||n(o)&&!(d=l[o]))&&1===this._countInIndex(a.objects,d,c,u)}match(e,t,n,r){return this._createDataset(this._match(e,t,n,r))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(e,t,n,r){const i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),s=r in o;return s||(o[r]=null),!s}_removeFromIndex(e,t,n,r){const i=e[t],o=i[n];delete o[r];for(const e in o)return;delete i[n];for(const e in i)return;delete e[t]}_findInIndex(e,t,n,r,i,o,s,a,l,c){let u,d,f;t&&((u=e,e={})[t]=u[t]);for(const t in e)if(d=e[t],d){n&&((u=d,d={})[n]=u[n]);for(const e in d)if(f=d[e],f){const n=r?r in f?[r]:[]:Object.keys(f);for(let r=0;r<n.length;r++){const u={[i]:t,[o]:e,[s]:n[r]},d=this._getQuad(u.subject,u.predicate,u.object,a);if(c)c.push(d);else if(l(d))return!0}}}return c}_countInIndex(e,t,n,r){let i,o,s,a=0;t&&((i=e,e={})[t]=i[t]);for(const t in e)if(o=e[t],o){n&&((i=o,o={})[n]=i[n]);for(const e in o)s=o[e],s&&(r?r in s&&a++:a+=Object.keys(s).length)}return a}_getGraphs(e){return n(e)?{[e]:this._graphs[e]}:this._graphs}_match(e,t,i,o){e=e&&r(e),t=t&&r(t),i=i&&r(i),o=o&&r(o);const s=[],a=this._getGraphs(o),l=this._ids;let c,u,d,f;if(n(e)&&!(u=l[e])||n(t)&&!(d=l[t])||n(i)&&!(f=l[i]))return s;for(const e in a)c=a[e],c&&(u?f?this._findInIndex(c.objects,f,u,d,"object","subject","predicate",e,null,s):this._findInIndex(c.subjects,u,d,null,"subject","predicate","object",e,null,s):d?this._findInIndex(c.predicates,d,f,null,"predicate","object","subject",e,null,s):f?this._findInIndex(c.objects,f,null,null,"object","subject","predicate",e,null,s):this._findInIndex(c.subjects,null,null,null,"subject","predicate","object",e,null,s));return s}_getQuad(e,t,n,r){return this._quads.get(this._toId(e,t,n,r))}_setQuad(e,t,n,r,i){this._quads.set(this._toId(e,t,n,r),i)}_deleteQuad(e,t,n,r){this._quads.delete(this._toId(e,t,n,r))}_createDataset(e){return new this.constructor(e)}_toId(e,t,n,r){return`${e}:${t}:${n}:${r}`}}e.exports=s})),o.register("5MOo6",(function(e,t){var n=o("h0LIu"),r=o("6a1Di"),i=o("85rA0"),s=o("iZefq");const a=i.IdentifierIssuer;var l=o("3Yszg"),c=o("bnToR"),u=o("fl0q4"),d=o("a4Pom").expand,f=o("98lVF").flatten,h=o("1Wow0").fromRDF,p=o("klPaf").toRDF,g=o("fm7xk"),y=g.frameMergedOrDefault,b=g.cleanupNull,v=o("guzPY"),m=v.isArray,w=v.isObject,_=v.isString,x=o("dEapz").isSubjectReference,j=o("frGHZ").expandIri,A=o("frGHZ").getInitialContext,O=o("frGHZ").process,I=o("frGHZ").processingMode,R=o("gNObS"),S=R.compact,E=R.compactIri,k=o("8xjSk"),T=k.createNodeMap,N=k.createMergedNodeMap,L=k.mergeNodeMaps;const C=function(e){const t={},g=new c({max:100});function v(t,{documentLoader:n=e.documentLoader,...r}){return Object.assign({},{documentLoader:n},r,t)}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(r=v(r,{base:_(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b"),contextResolver:new s({sharedCache:g})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,o=r.skipExpansion?t:await e.expand(t,r);const c=await e.processContext(A(r),n,r);let u=await S({activeCtx:c,element:o,options:r,compactionMap:r.compactionMap});r.compactArrays&&!r.graph&&m(u)?1===u.length?u=u[0]:0===u.length&&(u={}):r.graph&&w(u)&&(u=[u]),w(n)&&"@context"in n&&(n=n["@context"]),n=i.clone(n),m(n)||(n=[n]);const d=n;n=[];for(let e=0;e<d.length;++e)(!w(d[e])||Object.keys(d[e]).length>0)&&n.push(d[e]);const f=n.length>0;if(1===n.length&&(n=n[0]),m(u)){const e=E({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},f&&(u["@context"]=n),u[e]=t}else if(w(u)&&f){const e=u;u={"@context":n};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=v(n,{keepFreeFloatingNodes:!1,contextResolver:new s({sharedCache:g})})).expansionMap&&(n.expansionMap=void 0);const r={},o=[];if("expandContext"in n){const e=i.clone(n.expandContext);w(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},o.push(r.expandContext)}let a;if(_(t)){const i=await e.get(t,n);a=i.documentUrl,r.input=i.document,i.contextUrl&&(r.remoteContext={"@context":i.contextUrl},o.push(r.remoteContext))}else r.input=i.clone(t);"base"in n||(n.base=a||"");let l=A(n);for(const e of o)l=await O({activeCtx:l,localCtx:e,options:n});let c=await d({activeCtx:l,element:r.input,options:n,expansionMap:n.expansionMap});return w(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),m(c)||(c=[c]),c},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,r=v(r,{base:_(t)?t:"",contextResolver:new s({sharedCache:g})});const i=await e.expand(t,r),o=f(i);if(null===n)return o;r.graph=!0,r.skipExpansion=!0;const a=await e.compact(o,n,r);return a},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=v(r,{base:_(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new s({sharedCache:g})}),_(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?m(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const i=n&&n["@context"]||{},o=await e.processContext(A(r),i,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=I(o,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=I(o,1.1));const a=await e.expand(t,r),l={...r};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(n,l),u=Object.keys(n).map((e=>j(o,e,{vocab:!0})));l.merged=!u.includes("@graph"),l.is11=I(o,1.1);const d=y(a,c,l);l.graph=!r.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let f=await e.compact(d,i,l);return l.link={},f=b(f,l),f},e.link=async function(t,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,r)},e.normalize=e.canonize=async function(t,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=v(r,{base:_(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new s({sharedCache:g})}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return n.canonize(e,r)}const i={...r};delete i.format,i.produceGeneralizedRdf=!1;const o=await e.toRDF(t,i);return n.canonize(o,r)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=v(n,{format:_(e)?"application/n-quads":void 0});const{format:r}=n;let{rdfParser:i}=n;if(r){if(i=i||t[r],!i)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:r})}else i=()=>e;const o=await i(e);return h(o,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;r=(n=v(n,{base:_(t)?t:"",skipExpansion:!1,contextResolver:new s({sharedCache:g})})).skipExpansion?t:await e.expand(t,n);const i=p(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return u.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return i},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=v(n,{base:_(t)?t:"",contextResolver:new s({sharedCache:g})});const r=await e.expand(t,n);return N(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!m(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,r=v(r,{contextResolver:new s({sharedCache:g})});const o=await Promise.all(t.map((t=>{const n={...r};return e.expand(t,n)})));let l=!0;"mergeNodes"in r&&(l=r.mergeNodes);const c=r.issuer||new a("_:b"),u={"@default":{}};for(let e=0;e<o.length;++e){const t=i.relabelBlankNodes(o[e],{issuer:new a("_:b"+e+"-")}),n=l||0===e?u:{"@default":{}};if(T(t,n,"@default",c),n!==u)for(const e in n){const t=n[e];if(!(e in u)){u[e]=t;continue}const r=u[e];for(const e in t)e in r||(r[e]=t[e])}}const d=L(u),f=[],h=Object.keys(d).sort();for(let e=0;e<h.length;++e){const t=d[h[e]];x(t)||f.push(t)}if(null===n)return f;r.graph=!0,r.skipExpansion=!0;const p=await e.compact(f,n,r);return p},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"==typeof n.documentLoader?n.documentLoader:e.documentLoader;const i=await r(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");_(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i},e.processContext=async function(e,t,n){return n=v(n,{base:"",contextResolver:new s({sharedCache:g})}),null===t?A(n):(t=i.clone(t),w(t)&&"@context"in t||(t={"@context":t}),O({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=o("frGHZ").getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=o("c0VXR"),e.util=i,Object.assign(e,i),e.promises=e,e.RequestQueue=o("jUcZG"),e.JsonLdProcessor=o("eds65")(e),r.setupGlobals(e),r.setupDocumentLoaders(e),e},P=function(){return C((function(){return P()}))};C(P),e.exports=P})),o.register("h0LIu",(function(e,t){e.exports=o("7fpTx")})),o.register("7fpTx",(function(e,t){var n=o("dVoAc"),r=o("iA9G8"),i=o("5mJZl"),s=o("1phhp");let a;try{a=o("kjyEk")}catch(e){}const l={};e.exports=l,l.NQuads=o("73eeT"),l.IdentifierIssuer=o("dvul9"),l._rdfCanonizeNative=function(e){return e&&(a=e),a},l.canonize=async function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!a)throw new Error("rdf-canonize-native not available");return new Promise(((n,r)=>a.canonize(e,t,((e,t)=>e?r(e):n(t)))))}if("URDNA2015"===t.algorithm)return new n(t).main(e);if("URGNA2012"===t.algorithm)return new r(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(a)return a.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new i(t).main(e);if("URGNA2012"===t.algorithm)return new s(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}})),o.register("dVoAc",(function(e,t){var n=o("dvul9"),r=o("jnHNj"),i=o("9NKOE"),s=o("73eeT");function a(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];let i=0;for(const e of r)++i%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const o=[...t.keys()].sort(),l=[];for(const e of o){const n=t.get(e);if(n.length>1){l.push(n);continue}const r=n[0];this.canonicalIssuer.getId(r)}for(const e of l){const t=[];for(const r of e){if(this.canonicalIssuer.hasId(r))continue;const e=new n("_:b");e.getId(r);const i=await this.hashNDegreeQuads(r,e);t.push(i)}t.sort(a);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const c=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),c.push(s.serializeQuad(t))}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),i=n.quads;for(const n of i){const r={subject:null,predicate:n.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,n.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,n.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,n.graph,"graph"),t.push(s.serializeQuad(r))}t.sort();const o=new r(this.hashAlgorithm);for(const e of t)o.update(e);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(e,t,n,i){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const s=new r(this.hashAlgorithm);return s.update(i),"g"!==i&&s.update(this.getRelatedPredicate(t)),s.update(o),s.digest()}async hashNDegreeQuads(e,t){const n=new r(this.hashAlgorithm),o=await this.createHashToRelated(e,t),s=[...o.keys()].sort();for(const e of s){n.update(e);let r,s="";const a=new i(o.get(e));let l=0;for(;a.hasNext();){const e=a.next();++l%3==0&&await this._yield();let n=t.clone(),i="";const o=[];let c=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?i+=this.canonicalIssuer.getId(t):(n.hasId(t)||o.push(t),i+=n.getId(t)),0!==s.length&&i>s){c=!0;break}if(!c){for(const e of o){const t=await this.hashNDegreeQuads(e,n);if(i+=n.getId(e),i+=`<${t.hash}>`,n=t.issuer,0!==s.length&&i>s){c=!0;break}}c||(0===s.length||i<s)&&(s=i,r=n)}}n.update(s),t=r}return{hash:await n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const o of r)++i%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=await this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===r)return;const s=t.value,a=await this.hashRelatedBlankNode(s,e,i,n),l=o.get(a);l?l.push(s):o.set(a,[s])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}}})),o.register("dvul9",(function(e,t){e.exports=class e{constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}})),o.register("jnHNj",(function(e,t){o("jGbML");const n=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!n||!n.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await n.subtle.digest(this.algorithm,e));let r="";for(let e=0;e<t.length;++e)r+=t[e].toString(16).padStart(2,"0");return r}}})),o.register("jGbML",(function(e,t){var r=o("hPtJY");!function(e,t){if(!e.setImmediate){var n,i,o,s,a,l=1,c={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){r.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[l]=i,n(l),l++},f.clearImmediate=h}function h(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===n?e.exports:n:self)})),o.register("hPtJY",(function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}})),o.register("9NKOE",(function(e,t){e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let r=null,i=0;const o=e.length;for(let n=0;n<o;++n){const s=e[n],a=t.get(s);(null===r||s>r)&&(a&&n>0&&s>e[n-1]||!a&&n<o-1&&s>e[n+1])&&(r=s,i=n)}if(null===r)this.done=!0;else{const n=t.get(r)?i-1:i+1;e[i]=e[n],e[n]=r;for(const n of e)n>r&&t.set(n,!t.get(n))}return n}}})),o.register("73eeT",(function(e,t){const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",r="http://www.w3.org/2001/XMLSchema#string",i="NamedNode",o="BlankNode",s="Literal",a="DefaultGraph",l={};function c(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==s||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}l.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,l.empty=new RegExp("^[ \\t]*$"),l.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const t=[],u={},f=e.split(l.eoln);let h=0;for(const e of f){if(h++,l.empty.test(e))continue;const f=e.match(l.quad);if(null===f)throw new Error("N-Quads parse error on line "+h+".");const p={subject:null,predicate:null,object:null,graph:null};if(void 0!==f[1]?p.subject={termType:i,value:f[1]}:p.subject={termType:o,value:f[2]},p.predicate={termType:i,value:f[3]},void 0!==f[4]?p.object={termType:i,value:f[4]}:void 0!==f[5]?p.object={termType:o,value:f[5]}:(p.object={termType:s,value:void 0,datatype:{termType:i}},void 0!==f[7]?p.object.datatype.value=f[7]:void 0!==f[8]?(p.object.datatype.value=n,p.object.language=f[8]):p.object.datatype.value=r,p.object.value=f[6].replace(d,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))),void 0!==f[9]?p.graph={termType:i,value:f[9]}:void 0!==f[10]?p.graph={termType:o,value:f[10]}:p.graph={termType:a,value:""},p.graph.value in u){let e=!0;const n=u[p.graph.value];for(const t of n)if(c(t,p)){e=!1;break}e&&(n.push(p),t.push(p))}else u[p.graph.value]=[p],t.push(p)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const t=e.subject,s=e.predicate,a=e.object,l=e.graph;let c="";return t.termType===i?c+=`<${t.value}>`:c+=`${t.value}`,c+=` <${s.value}> `,a.termType===i?c+=`<${a.value}>`:a.termType===o?c+=a.value:(c+=`"${function(e){return e.replace(u,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(a.value)}"`,a.datatype.value===n?a.language&&(c+=`@${a.language}`):a.datatype.value!==r&&(c+=`^^<${a.datatype.value}>`)),l.termType===i?c+=` <${l.value}>`:l.termType===o&&(c+=` ${l.value}`),c+=" .\n",c}static legacyDatasetToQuads(e){const t=[],l={"blank node":o,IRI:i,literal:s};for(const c in e){e[c].forEach((e=>{const u={};for(const t in e){const o=e[t],a={termType:l[o.type],value:o.value};a.termType===s&&(a.datatype={termType:i},"datatype"in o&&(a.datatype.value=o.datatype),"language"in o?("datatype"in o||(a.datatype.value=n),a.language=o.language):"datatype"in o||(a.datatype.value=r)),u[t]=a}u.graph="@default"===c?{termType:a,value:""}:{termType:c.startsWith("_:")?o:i,value:c},t.push(u)}))}return t}};const u=/["\\\n\r]/g;const d=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g})),o.register("iA9G8",(function(e,t){var n=o("dVoAc");e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const o of r){let r,s;if("BlankNode"===o.subject.termType&&o.subject.value!==e)s=o.subject.value,r="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;s=o.object.value,r="r"}++i%100==0&&await this._yield();const a=await this.hashRelatedBlankNode(s,o,t,r),l=n.get(a);l?l.push(s):n.set(a,[s])}return n}}})),o.register("5mJZl",(function(e,t){var n=o("dvul9"),r=o("jnHNj"),i=o("9NKOE"),s=o("73eeT");function a(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];for(const e of r)this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const i=[...t.keys()].sort(),o=[];for(const e of i){const n=t.get(e);if(n.length>1){o.push(n);continue}const r=n[0];this.canonicalIssuer.getId(r)}for(const e of o){const t=[];for(const r of e){if(this.canonicalIssuer.hasId(r))continue;const e=new n("_:b");e.getId(r);const i=this.hashNDegreeQuads(r,e);t.push(i)}t.sort(a);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const l=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),l.push(s.serializeQuad(t))}return l.sort(),l.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),i=n.quads;for(const n of i){const r={subject:null,predicate:n.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,n.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,n.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,n.graph,"graph"),t.push(s.serializeQuad(r))}t.sort();const o=new r(this.hashAlgorithm);for(const e of t)o.update(e);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(e,t,n,i){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const s=new r(this.hashAlgorithm);return s.update(i),"g"!==i&&s.update(this.getRelatedPredicate(t)),s.update(o),s.digest()}hashNDegreeQuads(e,t){const n=new r(this.hashAlgorithm),o=this.createHashToRelated(e,t),s=[...o.keys()].sort();for(const e of s){n.update(e);let r,s="";const a=new i(o.get(e));for(;a.hasNext();){const e=a.next();let n=t.clone(),i="";const o=[];let l=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?i+=this.canonicalIssuer.getId(t):(n.hasId(t)||o.push(t),i+=n.getId(t)),0!==s.length&&i>s){l=!0;break}if(!l){for(const e of o){const t=this.hashNDegreeQuads(e,n);if(i+=n.getId(e),i+=`<${t.hash}>`,n=t.issuer,0!==s.length&&i>s){l=!0;break}}l||(0===s.length||i<s)&&(s=i,r=n)}}n.update(s),t=r}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===r)return;const s=t.value,a=this.hashRelatedBlankNode(s,e,i,n),l=o.get(a);l?l.push(s):o.set(a,[s])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}})),o.register("1phhp",(function(e,t){var n=o("5mJZl");e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r){let r,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,r="r"}const s=this.hashRelatedBlankNode(o,i,t,r),a=n.get(s);a?a.push(o):n.set(s,[o])}return n}}})),o.register("kjyEk",(function(e,t){})),o.register("6a1Di",(function(e,t){var n=o("a8tTH");const r={};e.exports=r,r.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=n,e.useDocumentLoader("xhr"))},r.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}})),o.register("a8tTH",(function(e,t){var n=o("85rA0"),r=n.parseLinkHeader,i=n.buildHeaders,s=o("3Umbt").LINK_HEADER_CONTEXT,a=o("3Yszg"),l=o("jUcZG"),c=o("c0VXR").prependBase;const u=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{t=i(t);return(new l).wrapLoader((async function i(o){if(0!==o.indexOf("http:")&&0!==o.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&0!==o.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:o});let l;try{l=await function(e,t,n){const r=new(e=e||XMLHttpRequest);return new Promise(((e,i)=>{r.onload=()=>e(r),r.onerror=e=>i(e),r.open("GET",t,!0);for(const e in n)r.setRequestHeader(e,n[e]);r.send()}))}(n,o,t)}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:e})}if(l.status>=400)throw new a("URL could not be dereferenced: "+l.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:l.status});let d={contextUrl:null,documentUrl:o,document:l.response},f=null;const h=l.getResponseHeader("Content-Type");let p;u.test(l.getAllResponseHeaders())&&(p=l.getResponseHeader("Link"));if(p&&"application/ld+json"!==h){const e=r(p),t=e[s];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});t&&(d.contextUrl=t.target),f=e.alternate,f&&"application/ld+json"==f.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(d=await i(c(o,f.target)))}return d}))}})),o.register("85rA0",(function(e,t){var n=o("dEapz"),r=o("guzPY"),i=o("h0LIu").IdentifierIssuer,s=o("3Yszg");const a=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={accept:"application/ld+json, application/json"},d={};function f(e,t){if(r.isArray(t))for(let n=0;n<t.length;++n)t[n]=f(e,t[n]);else if(n.isList(t))t["@list"]=f(e,t["@list"]);else if(r.isObject(t)){n.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];"@id"!==i&&(t[i]=f(e,t[i]))}}return t}e.exports=d,d.IdentifierIssuer=i,d.clone=function(e){if(e&&"object"==typeof e){let t;if(r.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=d.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,d.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(d.clone(n))}else if(r.isObject(e)){t={};for(const n in e)t[n]=d.clone(e[n])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+u.accept+'" is supported.');return Object.assign({Accept:u.accept},e)},d.parseLinkHeader=e=>{const t={},n=e.match(a);for(let e=0;e<n.length;++e){let r=n[e].match(l);if(!r)continue;const i={target:r[1]},o=r[2];for(;r=c.exec(o);)i[r[1]]=void 0===r[2]?r[3]:r[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t.hasOwnProperty(s)?t[s]=[t[s],i]:t[s]=i}return t},d.validateTypeValue=(e,t)=>{if(!(r.isString(e)||r.isArray(e)&&e.every((e=>r.isString(e))))){if(t&&r.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every((e=>r.isString(e))))return}throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!r.isArray(n)||n.length>0}return!1},d.hasValue=(e,t,i)=>{if(d.hasProperty(e,t)){let o=e[t];const s=n.isList(o);if(r.isArray(o)||s){s&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(d.compareValues(i,o[e]))return!0}else if(!r.isArray(i))return d.compareValues(i,o)}return!1},d.addValue=(e,t,n,i)=>{if("propertyIsArray"in(i=i||{})||(i.propertyIsArray=!1),"valueIsArray"in i||(i.valueIsArray=!1),"allowDuplicate"in i||(i.allowDuplicate=!0),"prependValue"in i||(i.prependValue=!1),i.valueIsArray)e[t]=n;else if(r.isArray(n)){0===n.length&&i.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),i.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let r=0;r<n.length;++r)d.addValue(e,t,n[r],i)}else if(e.hasOwnProperty(t)){const o=!i.allowDuplicate&&d.hasValue(e,t,n);r.isArray(e[t])||o&&!i.propertyIsArray||(e[t]=[e[t]]),o||(i.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=i.propertyIsArray?[n]:n},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const i=d.getValues(e,t).filter((e=>!d.compareValues(e,n)));0===i.length?d.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>f((t=t||{}).issuer||new i("_:b"),e),d.compareValues=(e,t)=>e===t||(!(!n.isValue(e)||!n.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(r.isObject(e)&&"@id"in e&&r.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1})),o.register("dEapz",(function(e,t){var n=o("guzPY");const r={};e.exports=r,r.isSubject=e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1},r.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,r.isValue=e=>n.isObject(e)&&"@value"in e,r.isList=e=>n.isObject(e)&&"@list"in e,r.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,r.isSimpleGraph=e=>r.isGraph(e)&&!("@id"in e),r.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))})),o.register("guzPY",(function(e,t){const n={};e.exports=n,n.isArray=Array.isArray,n.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),n.isDouble=e=>n.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),n.isEmptyObject=e=>n.isObject(e)&&0===Object.keys(e).length,n.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),n.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),n.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),n.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),n.isUndefined=e=>void 0===e})),o.register("3Yszg",(function(e,t){e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}})),o.register("3Umbt",(function(e,t){const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:r,XSD_BOOLEAN:r+"boolean",XSD_DOUBLE:r+"double",XSD_INTEGER:r+"integer",XSD_STRING:r+"string"}})),o.register("jUcZG",(function(e,t){e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}})),o.register("c0VXR",(function(e,t){var n=o("guzPY");const r={};e.exports=r,r.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},r.parse=(e,t)=>{const n={},i=r.parsers[t||"full"],o=i.regex.exec(e);let s=i.keys.length;for(;s--;)n[i.keys[s]]=void 0===o[s]?null:o[s];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=r.removeDotSegments(n.path),n},r.prependBase=(e,t)=>{if(null===e)return t;if(r.isAbsolute(t))return t;e&&!n.isString(e)||(e=r.parse(e||""));const i=r.parse(t),o={protocol:e.protocol||""};if(null!==i.authority)o.authority=i.authority,o.path=i.path,o.query=i.query;else if(o.authority=e.authority,""===i.path)o.path=e.path,null!==i.query?o.query=i.query:o.query=e.query;else{if(0===i.path.indexOf("/"))o.path=i.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=i.path,o.path=t}o.query=i.query}""!==i.path&&(o.path=r.removeDotSegments(o.path));let s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==i.fragment&&(s+="#"+i.fragment),""===s&&(s="./"),s},r.removeBase=(e,t)=>{if(null===e)return t;e&&!n.isString(e)||(e=r.parse(e||""));let i="";if(""!==e.href?i+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(i+="//"),0!==t.indexOf(i))return t;const o=r.parse(t.substr(i.length)),s=e.normalizedPath.split("/"),a=o.normalizedPath.split("/"),l=o.fragment||o.query?0:1;for(;s.length>0&&a.length>l&&s[0]===a[0];)s.shift(),a.shift();let c="";if(s.length>0){s.pop();for(let e=0;e<s.length;++e)c+="../"}return c+=a.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},r.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;r.isAbsolute=e=>n.isString(e)&&i.test(e),r.isRelative=e=>n.isString(e)})),o.register("iZefq",(function(e,t){var n=o("guzPY"),r=n.isArray,i=n.isObject,s=n.isString,a=o("85rA0").asArray,l=o("c0VXR").prependBase,c=o("3Yszg"),u=o("bXSXW");function d(e){throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function f({context:e,base:t}){if(!e)return;const n=e["@context"];if(s(n))e["@context"]=l(t,n);else if(r(n))for(let e=0;e<n.length;++e){const r=n[e];s(r)?n[e]=l(t,r):i(r)&&f({context:{"@context":r},base:t})}else if(i(n))for(const e in n)f({context:n[e],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:o,cycles:l=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=a(t);const c=[];for(const a of t){if(s(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:n,base:o,cycles:l})),r(t)?c.push(...t):c.push(t);continue}if(null===a){c.push(new u({document:null}));continue}i(a)||d(t);const f=JSON.stringify(a);let h=this._get(f);h||(h=new u({document:a}),this._cacheResolvedContext({key:f,resolved:h,tag:"static"})),c.push(h)}return c}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:r,cycles:i}){t=l(r,t);const{context:o,remoteDoc:s}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:i});f({context:o,base:r=s.documentUrl||t});const a=await this.resolve({activeCtx:e,context:o,documentLoader:n,base:r,cycles:i});return this._cacheResolvedContext({key:t,resolved:a,tag:s.tag}),a}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:o}){if(o.size>10)throw new c("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(o.has(t))throw new c("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let a,l;o.add(t);try{l=await n(t),a=l.document||null,s(a)&&(a=JSON.parse(a))}catch(e){throw new c("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!i(a))throw new c("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return a="@context"in a?{"@context":a["@context"]}:{"@context":{}},l.contextUrl&&(r(a["@context"])||(a["@context"]=[a["@context"]]),a["@context"].push(l.contextUrl)),{context:a,remoteDoc:l}}}})),o.register("bXSXW",(function(e,t){var n=o("bnToR");e.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}})),o.register("bnToR",(function(e,t){var n=o("5qBd4");const r=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=()=>1;const g=(e,t,n)=>{const r=e[f].get(t);if(r){const t=r.value;if(y(e,t)){if(v(e,r),!e[a])return}else n&&(e[h]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},b=e=>{if(e[i]>e[r])for(let t=e[d].tail;e[i]>e[r]&&null!==t;){const n=t.prev;v(e,t),t=n}},v=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[i]-=n.length,e[f].delete(n.key),e[d].removeNode(t)}};class m{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;y(e,i)&&(v(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||p;if(this[s]="function"!=typeof t?p:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,b(this)}get max(){return this[r]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,b(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[s]&&(this[s]=e,this[i]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),b(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[f]=new Map,this[d]=new n,this[i]=0}dump(){return this[d].map((e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const o=n?Date.now():0,a=this[s](t,e);if(this[f].has(e)){if(a>this[r])return v(this,this[f].get(e)),!1;const s=this[f].get(e).value;return this[c]&&(this[u]||this[c](e,s.value)),s.now=o,s.maxAge=n,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),b(this),!0}const h=new m(e,t,a,o,n);return h.length>this[r]?(this[c]&&this[c](e,t),!1):(this[i]+=h.length,this[d].unshift(h),this[f].set(e,this[d].head),b(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!y(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[f].forEach(((e,t)=>g(this,t,!1)))}}})),o.register("5qBd4",(function(e,t){function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function r(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},n.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},n.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},n.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;var s=[];for(i=0;o&&i<t;i++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(i=0;i<n.length;i++)o=r(this,o,n[i]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{o("fcGo5")(n)}catch(e){}})),o.register("fcGo5",(function(e,t){e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}})),o.register("fl0q4",(function(e,t){e.exports=o("h0LIu").NQuads})),o.register("a4Pom",(function(e,t){var n=o("3Yszg"),r=o("guzPY"),i=r.isArray,s=r.isObject,a=r.isEmptyObject,l=r.isString,c=r.isUndefined,u=o("dEapz"),d=u.isList,f=u.isValue,h=u.isGraph,p=u.isSubject,g=o("frGHZ"),y=g.expandIri,b=g.getContextValue,v=g.isKeyword,m=g.process,w=g.processingMode,_=o("c0VXR").isAbsolute,x=o("85rA0"),j=x.addValue,A=x.asArray,O=x.getValues,I=x.validateTypeValue;const R={};e.exports=R;const S=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function E({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:o,expandedParent:u,options:h={},insideList:g,typeKey:x,typeScopedContext:O,expansionMap:k}){const L=Object.keys(o).sort(),C=[];let P;const M=o[x]&&"@json"===y(e,i(o[x])?o[x][0]:o[x],{vocab:!0},h);for(const x of L){let E,L=o[x];if("@context"===x)continue;let D=y(e,x,{vocab:!0},h);if((null===D||!_(D)&&!v(D))&&(D=k({unmappedProperty:x,activeCtx:e,activeProperty:t,parent:o,options:h,insideList:g,value:L,expandedParent:u}),void 0===D))continue;if(v(D)){if("@reverse"===r)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:L});if(D in u&&"@included"!==D&&"@type"!==D)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:D})}if("@id"===D){if(!l(L)){if(!h.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:L});if(s(L)){if(!a(L))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:L})}else{if(!i(L))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:L});if(!L.every((e=>l(e))))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:L})}}j(u,"@id",A(L).map((t=>l(t)?y(e,t,{base:!0},h):t)),{propertyIsArray:h.isFrame});continue}if("@type"===D){s(L)&&(L=Object.fromEntries(Object.entries(L).map((([e,t])=>[y(O,e,{vocab:!0}),A(t).map((e=>y(O,e,{base:!0,vocab:!0})))])))),I(L,h.isFrame),j(u,"@type",A(L).map((e=>l(e)?y(O,e,{base:!0,vocab:!0},h):e)),{propertyIsArray:h.isFrame});continue}if("@included"===D&&w(e,1.1)){const r=A(await R.expand({activeCtx:e,activeProperty:t,element:L,options:h,expansionMap:k}));if(!r.every((e=>p(e))))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:L});j(u,"@included",r,{propertyIsArray:!0});continue}if("@graph"===D&&!s(L)&&!i(L))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:L});if("@value"===D){P=L,M&&w(e,1.1)?u["@value"]=L:j(u,"@value",L,{propertyIsArray:h.isFrame});continue}if("@language"===D){if(null===L)continue;if(!l(L)&&!h.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:L});L=A(L).map((e=>l(e)?e.toLowerCase():e));for(const e of L)l(e)&&!e.match(S)&&console.warn(`@language must be valid BCP47: ${e}`);j(u,"@language",L,{propertyIsArray:h.isFrame});continue}if("@direction"===D){if(!l(L)&&!h.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:L});L=A(L);for(const e of L)if(l(e)&&"ltr"!==e&&"rtl"!==e)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:L});j(u,"@direction",L,{propertyIsArray:h.isFrame});continue}if("@index"===D){if(!l(L))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:L});j(u,"@index",L);continue}if("@reverse"===D){if(!s(L))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:L});if(E=await R.expand({activeCtx:e,activeProperty:"@reverse",element:L,options:h,expansionMap:k}),"@reverse"in E)for(const e in E["@reverse"])j(u,e,E["@reverse"][e],{propertyIsArray:!0});let t=u["@reverse"]||null;for(const e in E){if("@reverse"===e)continue;null===t&&(t=u["@reverse"]={}),j(t,e,[],{propertyIsArray:!0});const r=E[e];for(let i=0;i<r.length;++i){const o=r[i];if(f(o)||d(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:E});j(t,e,o,{propertyIsArray:!0})}}continue}if("@nest"===D){C.push(x);continue}let U=e;const B=b(e,x,"@context");c(B)||(U=await m({activeCtx:e,localCtx:B,propagate:!0,overrideProtected:!0,options:h}));const $=b(U,x,"@container")||[];if($.includes("@language")&&s(L)){E=T(U,L,b(U,x,"@direction"),h)}else if($.includes("@index")&&s(L)){const t=$.includes("@graph"),n=b(U,x,"@index")||"@index",r="@index"!==n&&y(e,n,{vocab:!0},h);E=await N({activeCtx:U,options:h,activeProperty:x,value:L,expansionMap:k,asGraph:t,indexKey:n,propertyIndex:r})}else if($.includes("@id")&&s(L)){const e=$.includes("@graph");E=await N({activeCtx:U,options:h,activeProperty:x,value:L,expansionMap:k,asGraph:e,indexKey:"@id"})}else if($.includes("@type")&&s(L))E=await N({activeCtx:U.revertToPreviousContext(),options:h,activeProperty:x,value:L,expansionMap:k,asGraph:!1,indexKey:"@type"});else{const n="@list"===D;if(n||"@set"===D){let e=t;n&&"@graph"===r&&(e=null),E=await R.expand({activeCtx:U,activeProperty:e,element:L,options:h,insideList:n,expansionMap:k})}else E="@json"===b(e,x,"@type")?{"@type":"@json","@value":L}:await R.expand({activeCtx:U,activeProperty:x,element:L,options:h,insideList:!1,expansionMap:k})}if(null!==E||"@value"===D||(E=k({unmappedValue:L,expandedProperty:D,activeCtx:U,activeProperty:t,parent:o,options:h,insideList:g,key:x,expandedParent:u}),void 0!==E))if("@list"!==D&&!d(E)&&$.includes("@list")&&(E={"@list":A(E)}),$.includes("@graph")&&!$.some((e=>"@id"===e||"@index"===e))&&(E=A(E).map((e=>({"@graph":A(e)})))),U.mappings.has(x)&&U.mappings.get(x).reverse){const e=u["@reverse"]=u["@reverse"]||{};E=A(E);for(let t=0;t<E.length;++t){const r=E[t];if(f(r)||d(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:E});j(e,D,r,{propertyIsArray:!0})}}else j(u,D,E,{propertyIsArray:!0})}if("@value"in u)if("@json"===u["@type"]&&w(e,1.1));else if((s(P)||i(P))&&!h.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:P});for(const a of C){const l=i(o[a])?o[a]:[o[a]];for(const i of l){if(!s(i)||Object.keys(i).some((t=>"@value"===y(e,t,{vocab:!0},h))))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await E({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:i,expandedParent:u,options:h,insideList:g,typeScopedContext:O,typeKey:x,expansionMap:k})}}}function k({activeCtx:e,activeProperty:t,value:n,options:r}){if(null==n)return null;const i=y(e,t,{vocab:!0},r);if("@id"===i)return y(e,n,{base:!0},r);if("@type"===i)return y(e,n,{vocab:!0,base:!0},r);const o=b(e,t,"@type");if(("@id"===o||"@graph"===i)&&l(n))return{"@id":y(e,n,{base:!0},r)};if("@vocab"===o&&l(n))return{"@id":y(e,n,{vocab:!0,base:!0},r)};if(v(i))return n;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(l(n)){const n=b(e,t,"@language");null!==n&&(s["@language"]=n);const r=b(e,t,"@direction");null!==r&&(s["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function T(e,t,r,o){const s=[],a=Object.keys(t).sort();for(const c of a){const a=y(e,c,{vocab:!0},o);let u=t[c];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!l(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==a&&(i["@language"]=c.toLowerCase()),r&&(i["@direction"]=r),s.push(i)}}return s}async function N({activeCtx:e,options:t,activeProperty:r,value:o,expansionMap:s,asGraph:a,indexKey:l,propertyIndex:u}){const d=[],p=Object.keys(o).sort(),g="@type"===l;for(let v of p){if(g){const n=b(e,v,"@context");c(n)||(e=await m({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let p,w=o[v];i(w)||(w=[w]),w=await R.expand({activeCtx:e,activeProperty:r,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:s}),p=u?"@none"===v?"@none":k({activeCtx:e,activeProperty:l,value:v,options:t}):y(e,v,{vocab:!0},t),"@id"===l?v=y(e,v,{base:!0},t):g&&(v=p);for(let e of w){if(a&&!h(e)&&(e={"@graph":[e]}),"@type"===l)"@none"===p||(e["@type"]?e["@type"]=[v].concat(e["@type"]):e["@type"]=[v]);else{if(f(e)&&!["@language","@type","@index"].includes(l))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});u?"@none"!==p&&j(e,u,p,{propertyIsArray:!0,prependValue:!0}):"@none"===p||l in e||(e[l]=v)}d.push(e)}}return d}R.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:o={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:f=null,expansionMap:h=(()=>{})})=>{if(null==r)return null;if("@default"===t&&(o=Object.assign({},o,{isFrame:!1})),!i(r)&&!s(r)){if(!u&&(null===t||"@graph"===y(e,t,{vocab:!0},o))){const n=await h({unmappedValue:r,activeCtx:e,activeProperty:t,options:o,insideList:u});return void 0===n?null:n}return k({activeCtx:e,activeProperty:t,value:r,options:o})}if(i(r)){let n=[];const s=b(e,t,"@container")||[];u=u||s.includes("@list");for(let s=0;s<r.length;++s){let a=await R.expand({activeCtx:e,activeProperty:t,element:r[s],options:o,expansionMap:h,insideIndex:d,typeScopedContext:f});u&&i(a)&&(a={"@list":a}),null===a&&(a=await h({unmappedValue:r[s],activeCtx:e,activeProperty:t,parent:r,index:s,options:o,expandedParent:n,insideList:u}),void 0===a)||(i(a)?n=n.concat(a):n.push(a))}return n}const p=y(e,t,{vocab:!0},o),g=b(e,t,"@context");f=f||(e.previousContext?e:null);let v=Object.keys(r).sort(),x=!d;if(x&&f&&v.length<=2&&!v.includes("@context"))for(const t of v){const n=y(f,t,{vocab:!0},o);if("@value"===n){x=!1,e=f;break}if("@id"===n&&1===v.length){x=!1;break}}x&&(e=e.revertToPreviousContext()),c(g)||(e=await m({activeCtx:e,localCtx:g,propagate:!0,overrideProtected:!0,options:o})),"@context"in r&&(e=await m({activeCtx:e,localCtx:r["@context"],options:o})),f=e;let j=null;for(const t of v){if("@type"===y(e,t,{vocab:!0},o)){j=j||t;const n=r[t],i=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(const t of i){const n=b(f,t,"@context");c(n)||(e=await m({activeCtx:e,localCtx:n,options:o,propagate:!1}))}}}let I={};await E({activeCtx:e,activeProperty:t,expandedActiveProperty:p,element:r,expandedParent:I,options:o,insideList:u,typeKey:j,typeScopedContext:f,expansionMap:h}),v=Object.keys(I);let S=v.length;if("@value"in I){if("@type"in I&&("@language"in I||"@direction"in I))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:I});let i=S-1;if("@type"in I&&(i-=1),"@index"in I&&(i-=1),"@language"in I&&(i-=1),"@direction"in I&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:I});const s=null===I["@value"]?[]:A(I["@value"]),c=O(I,"@type");if(w(e,1.1)&&c.includes("@json")&&1===c.length);else if(0===s.length){const n=await h({unmappedValue:I,activeCtx:e,activeProperty:t,element:r,options:o,insideList:u});I=void 0!==n?n:null}else{if(!s.every((e=>l(e)||a(e)))&&"@language"in I)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:I});if(!c.every((e=>_(e)&&!(l(e)&&0===e.indexOf("_:"))||a(e))))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:I})}}else if("@type"in I&&!i(I["@type"]))I["@type"]=[I["@type"]];else if("@set"in I||"@list"in I){if(S>1&&(2!==S||!("@index"in I)))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:I});"@set"in I&&(I=I["@set"],v=Object.keys(I),S=v.length)}else if(1===S&&"@language"in I){const n=await h(I,{unmappedValue:I,activeCtx:e,activeProperty:t,element:r,options:o,insideList:u});I=void 0!==n?n:null}if(s(I)&&!o.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===p)&&(0===S||"@value"in I||"@list"in I||1===S&&"@id"in I)){const n=await h({unmappedValue:I,activeCtx:e,activeProperty:t,element:r,options:o,insideList:u});I=void 0!==n?n:null}return I}})),o.register("frGHZ",(function(e,t){var n=o("85rA0"),r=o("3Yszg"),i=o("guzPY"),s=i.isArray,a=i.isObject,l=i.isString,c=i.isUndefined,u=o("c0VXR"),d=u.isAbsolute,f=u.isRelative,h=u.prependBase,p=(n=o("85rA0")).asArray,g=n.compareShortestLeast;const y=new Map,b=/^@[a-zA-Z]+$/,v={};function m(e,t,n,r,i,o){if(null===t||!l(t)||v.isKeyword(t))return t;if(t.match(b))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&v.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),(n=n||{}).vocab){const n=e.mappings.get(t);if(null===n)return null;if(a(n)&&"@id"in n)return n["@id"]}const s=t.indexOf(":");if(s>0){const n=t.substr(0,s),a=t.substr(s+1);if("_"===n||0===a.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&v.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:i,options:o});const l=e.mappings.get(n);if(l&&l._prefix)return l["@id"]+a;if(d(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return h(h(o.base,e["@base"]),t)}else if(n.base)return h(o.base,t);return t}function w(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!w(e[n],t[n]))return!1;return!0}const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const n in e){let r=e[n],i=t[n];if("@container"===n&&Array.isArray(r)&&Array.isArray(i)&&(r=r.slice().sort(),i=i.slice().sort()),!w(r,i))return!1}return!0}e.exports=v,v.process=async({activeCtx:e,localCtx:t,options:i,propagate:o=!0,overrideProtected:c=!1,cycles:u=new Set})=>{a(t)&&"@context"in t&&s(t["@context"])&&(t=t["@context"]);if(0===p(t).length)return e;const g=await i.contextResolver.resolve({activeCtx:e,context:t,documentLoader:i.documentLoader,base:i.base});a(g[0].document)&&"boolean"==typeof g[0].document["@propagate"]&&(o=g[0].document["@propagate"]);let y=e;o||y.previousContext||(y=y.clone(),y.previousContext=e);for(const o of g){let{document:s}=o;if(e=y,null===s){if(!c&&0!==Object.keys(e.protected).length){const s=i&&i.protectedMode||"error";if("error"===s)throw new r("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===s){console.warn("WARNING: invalid context nullification");const t=o.getProcessed(e);if(t){y=e=t;continue}const r=e;y=e=v.getInitialContext(i).clone();for(const[t,i]of Object.entries(r.protected))i&&(e.mappings[t]=n.clone(r.mappings[t]));e.protected=n.clone(r.protected),o.setProcessed(r,y);continue}throw new r("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:s})}y=e=v.getInitialContext(i).clone();continue}const p=o.getProcessed(e);if(p){y=e=p;continue}if(a(s)&&"@context"in s&&(s=s["@context"]),!a(s))throw new r("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s});y=y.clone();const g=new Map;if("@version"in s){if(1.1!==s["@version"])throw new r("Unsupported JSON-LD version: "+s["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:s});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new r("@version: "+s["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:s});y.processingMode="json-ld-1.1",y["@version"]=s["@version"],g.set("@version",!0)}if(y.processingMode=y.processingMode||e.processingMode,"@base"in s){let e=s["@base"];if(null===e||d(e));else{if(!f(e))throw new r('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:s});e=h(y["@base"],e)}y["@base"]=e,g.set("@base",!0)}if("@vocab"in s){const e=s["@vocab"];if(null===e)delete y["@vocab"];else{if(!l(e))throw new r('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});if(!d(e)&&v.processingMode(y,1))throw new r('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});y["@vocab"]=m(y,e,{vocab:!0,base:!0},void 0,void 0,i)}g.set("@vocab",!0)}if("@language"in s){const e=s["@language"];if(null===e)delete y["@language"];else{if(!l(e))throw new r('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:s});y["@language"]=e.toLowerCase()}g.set("@language",!0)}if("@direction"in s){const t=s["@direction"];if("json-ld-1.0"===e.processingMode)throw new r("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:s});if(null===t)delete y["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new r('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:s});y["@direction"]=t}g.set("@direction",!0)}if("@propagate"in s){const n=s["@propagate"];if("json-ld-1.0"===e.processingMode)throw new r("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:s});if("boolean"!=typeof n)throw new r("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});g.set("@propagate",!0)}if("@import"in s){const n=s["@import"];if("json-ld-1.0"===e.processingMode)throw new r("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:s});if(!l(n))throw new r("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const o=await i.contextResolver.resolve({activeCtx:e,context:n,documentLoader:i.documentLoader,base:i.base});if(1!==o.length)throw new r("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const a=o[0].getProcessed(e);if(a)s=a;else{const n=o[0].document;if("@import"in n)throw new r("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)s.hasOwnProperty(e)||(s[e]=n[e]);o[0].setProcessed(e,s)}g.set("@import",!0)}g.set("@protected",s["@protected"]||!1);for(const e in s)if(v.createTermDefinition({activeCtx:y,localCtx:s,term:e,defined:g,options:i,overrideProtected:c}),a(s[e])&&"@context"in s[e]){const t=s[e]["@context"];let n=!0;if(l(t)){const e=h(i.base,t);u.has(e)?n=!1:u.add(e)}if(n)try{await v.process({activeCtx:y.clone(),localCtx:s[e]["@context"],overrideProtected:!0,options:i,cycles:u})}catch(t){throw new r("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:s[e]["@context"],term:e})}}o.setProcessed(e,y)}return y},v.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:i,options:o,overrideProtected:c=!1})=>{if(i.has(n)){if(i.get(n))return;throw new r("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let u;if(i.set(n,!1),t.hasOwnProperty(n)&&(u=t[n]),"@type"===n&&a(u)&&"@set"===(u["@container"]||"@set")&&v.processingMode(e,1.1)){const e=["@container","@id","@protected"],i=Object.keys(u);if(0===i.length||i.some((t=>!e.includes(t))))throw new r("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(v.isKeyword(n))throw new r("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(b))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});if(""===n)throw new r("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const f=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let h=!1;if((l(u)||null===u)&&(h=!0,u={"@id":u}),!a(u))throw new r("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const p={};e.mappings.set(n,p),p.reverse=!1;const g=["@container","@id","@language","@reverse","@type"];v.processingMode(e,1.1)&&g.push("@context","@direction","@index","@nest","@prefix","@protected");for(const e in u)if(!g.includes(e))throw new r("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const y=n.indexOf(":");if(p._termHasColon=y>0,"@reverse"in u){if("@id"in u)throw new r("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in u)throw new r("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const s=u["@reverse"];if(!l(s))throw new r("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!v.isKeyword(s)&&s.match(b))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:s}),void(f?e.mappings.set(n,f):e.mappings.delete(n));const a=m(e,s,{vocab:!0,base:!1},t,i,o);if(!d(a))throw new r("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});p["@id"]=a,p.reverse=!0}else if("@id"in u){let s=u["@id"];if(s&&!l(s))throw new r("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===s)p["@id"]=null;else{if(!v.isKeyword(s)&&s.match(b))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:s}),void(f?e.mappings.set(n,f):e.mappings.delete(n));if(s!==n){if(s=m(e,s,{vocab:!0,base:!1},t,i,o),!d(s)&&!v.isKeyword(s))throw new r("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){if(m(e,n,{vocab:!0,base:!1},t,new Map(i).set(n,!0),o)!==s)throw new r("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}p["@id"]=s,p._prefix=h&&!p._termHasColon&&s.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in p))if(p._termHasColon){const r=n.substr(0,y);if(t.hasOwnProperty(r)&&v.createTermDefinition({activeCtx:e,localCtx:t,term:r,defined:i,options:o}),e.mappings.has(r)){const t=n.substr(y+1);p["@id"]=e.mappings.get(r)["@id"]+t}else p["@id"]=n}else if("@type"===n)p["@id"]=n;else{if(!("@vocab"in e))throw new r("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});p["@id"]=e["@vocab"]+n}if((!0===u["@protected"]||!0===i.get("@protected")&&!1!==u["@protected"])&&(e.protected[n]=!0,p.protected=!0),i.set(n,!0),"@type"in u){let n=u["@type"];if(!l(n))throw new r("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(v.processingMode(e,1))throw new r(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=m(e,n,{vocab:!0,base:!1},t,i,o),!d(n))throw new r("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new r("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}p["@type"]=n}if("@container"in u){const n=l(u["@container"])?[u["@container"]]:u["@container"]||[],i=["@list","@set","@index","@language"];let o=!0;const a=n.includes("@set");if(v.processingMode(e,1.1)){if(i.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new r("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new r("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else o&=n.length<=(a?2:1);if(n.includes("@type")&&(p["@type"]=p["@type"]||"@id",!["@id","@vocab"].includes(p["@type"])))throw new r("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else o&=!s(u["@container"]),o&=n.length<=1;if(o&=n.every((e=>i.includes(e))),o&=!(a&&n.includes("@list")),!o)throw new r("Invalid JSON-LD syntax; @context @container value must be one of the following: "+i.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(p.reverse&&!n.every((e=>["@index","@set"].includes(e))))throw new r("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});p["@container"]=n}if("@index"in u){if(!("@container"in u)||!p["@container"].includes("@index"))throw new r(`Invalid JSON-LD syntax; @index without @index in @container: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!l(u["@index"])||0===u["@index"].indexOf("@"))throw new r(`Invalid JSON-LD syntax; @index must expand to an IRI: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});p["@index"]=u["@index"]}if("@context"in u&&(p["@context"]=u["@context"]),"@language"in u&&!("@type"in u)){let e=u["@language"];if(null!==e&&!l(e))throw new r("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),p["@language"]=e}if("@prefix"in u){if(n.match(/:|\//))throw new r("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(v.isKeyword(p["@id"]))throw new r("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof u["@prefix"])throw new r("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});p._prefix=!0===u["@prefix"]}if("@direction"in u){const e=u["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});p["@direction"]=e}if("@nest"in u){const e=u["@nest"];if(!l(e)||"@nest"!==e&&0===e.indexOf("@"))throw new r("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});p["@nest"]=e}
// disallow aliasing @context and @preserve
const _=p["@id"];if("@context"===_||"@preserve"===_)throw new r("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!c&&(e.protected[n]=!0,p.protected=!0,!w(f,p))){const e=o&&o.protectedMode||"error";if("error"===e)throw new r(`Invalid JSON-LD syntax; tried to redefine "${n}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:n});throw new r("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:n,protectedMode:e})}},v.expandIri=(e,t,n,r)=>m(e,t,n,void 0,void 0,r),v.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=y.get(t);if(r)return r;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},r={},i=(e["@language"]||"@none").toLowerCase(),a=e["@direction"],l=e.mappings,c=[...l.keys()].sort(g);for(const e of c){const o=l.get(e);if(null===o)continue;let c=o["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===o["@id"])continue;const u=p(o["@id"]);for(const l of u){let u=t[l];const d=v.isKeyword(l);if(u)d||o._termHasColon||r[l].push(e);else if(t[l]=u={},!d&&!o._termHasColon){r[l]=[e];const t={iri:l,terms:r[l]};l[0]in n?n[l[0]].push(t):n[l[0]]=[t]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],s(e,u["@any"],"@none"),o.reverse)s(e,u["@type"],"@reverse");else if("@none"===o["@type"])s(e,u["@any"],"@none"),s(e,u["@language"],"@none"),s(e,u["@type"],"@none");else if("@type"in o)s(e,u["@type"],o["@type"]);else if("@language"in o&&"@direction"in o){const t=o["@language"],n=o["@direction"];s(e,u["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?`_${n}`:"@null")}else"@language"in o?s(e,u["@language"],(o["@language"]||"@null").toLowerCase()):"@direction"in o?o["@direction"]?s(e,u["@language"],`_${o["@direction"]}`):s(e,u["@language"],"@none"):a?(s(e,u["@language"],`_${a}`),s(e,u["@language"],"@none"),s(e,u["@type"],"@none")):(s(e,u["@language"],i),s(e,u["@language"],"@none"),s(e,u["@type"],"@none"))}}for(const e in n)o(n,e,1);return t},clone:function(){const e={};e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]);"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===y.size&&y.clear(),y.set(t,i),i;function o(e,t,n){const r=e[t],i=e[t]={};let s,a;for(const e of r)s=e.iri,a=n>=s.length?"":s[n],a in i?i[a].push(e):i[a]=[e];for(const e in i)""!==e&&o(i,e,n+1)}function s(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},v.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(c(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},v.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,v.isKeyword=e=>{if(!l(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}})),o.register("98lVF",(function(e,t){var n=o("dEapz").isSubjectReference,r=o("8xjSk").createMergedNodeMap;const i={};e.exports=i,i.flatten=e=>{const t=r(e),i=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){const r=t[o[e]];n(r)||i.push(r)}return i}})),o.register("8xjSk",(function(e,t){var n=o("frGHZ").isKeyword,r=o("dEapz"),i=o("guzPY"),s=o("85rA0"),a=o("3Yszg");const l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{const n=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),r={"@default":{}};return l.createNodeMap(e,r,"@default",n),l.mergeNodeMaps(r)},l.createNodeMap=(e,t,o,c,u,d)=>{if(i.isArray(e)){for(const n of e)l.createNodeMap(n,t,o,c,void 0,d);return}if(!i.isObject(e))return void(d&&d.push(e));if(r.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&r.isList(e)){const n=[];return l.createNodeMap(e["@list"],t,o,c,u,n),void d.push({"@list":n})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}i.isUndefined(u)&&(u=r.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const f=t[o],h=f[u]=f[u]||{};h["@id"]=u;const p=Object.keys(e).sort();for(let i of p){if("@id"===i)continue;if("@reverse"===i){const n={"@id":u},i=e["@reverse"];for(const e in i){const a=i[e];for(const i of a){let a=i["@id"];r.isBlankNode(i)&&(a=c.getId(a)),l.createNodeMap(i,t,o,c,a),s.addValue(f[a],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===i){u in t||(t[u]={}),l.createNodeMap(e[i],t,u,c);continue}if("@included"===i){l.createNodeMap(e[i],t,o,c);continue}if("@type"!==i&&n(i)){if("@index"===i&&i in h&&(e[i]!==h[i]||e[i]["@id"]!==h[i]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[i]=e[i];continue}const d=e[i];if(0===i.indexOf("_:")&&(i=c.getId(i)),0!==d.length)for(let e of d)if("@type"===i&&(e=0===e.indexOf("_:")?c.getId(e):e),r.isSubject(e)||r.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const n=r.isBlankNode(e)?c.getId(e["@id"]):e["@id"];s.addValue(h,i,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,o,c,n)}else if(r.isValue(e))s.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1});else if(r.isList(e)){const n=[];l.createNodeMap(e["@list"],t,o,c,u,n),e={"@list":n},s.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,o,c,u),s.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1});else s.addValue(h,i,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const i of Object.keys(e[r]).sort()){const o=e[r][i];i in t||(t[i]={"@id":i});const a=t[i];for(const e of Object.keys(o).sort())if(n(e)&&"@type"!==e)a[e]=s.clone(o[e]);else for(const t of o[e])s.addValue(a,e,s.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const i of n){if("@default"===i)continue;const n=e[i];let o=t[i];o?"@graph"in o||(o["@graph"]=[]):t[i]=o={"@id":i,"@graph":[]};const s=o["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];r.isSubjectReference(t)||s.push(t)}}return t}})),o.register("1Wow0",(function(e,t){var n=o("3Yszg"),r=o("dEapz"),i=o("guzPY"),s=o("85rA0"),a=o("3Umbt"),l=a.RDF_LIST,c=a.RDF_FIRST,u=a.RDF_REST,d=a.RDF_NIL,f=a.RDF_TYPE,h=a.RDF_JSON_LITERAL,p=a.XSD_BOOLEAN,g=a.XSD_DOUBLE,y=a.XSD_INTEGER,b=a.XSD_STRING;const v=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function w(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const o={"@value":e.value};if(e.language)o["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=b),s===h){s="@json";try{o["@value"]=JSON.parse(o["@value"])}catch(e){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:o["@value"],cause:e})}}if(t){if(s===p)"true"===o["@value"]?o["@value"]=!0:"false"===o["@value"]&&(o["@value"]=!1);else if(i.isNumeric(o["@value"]))if(s===y){const e=parseInt(o["@value"],10);e.toFixed(0)===o["@value"]&&(o["@value"]=e)}else s===g&&(o["@value"]=parseFloat(o["@value"]));[p,y,g,b].includes(s)||(o["@type"]=s)}else if("i18n-datatype"===r&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=s.split(/[#_]/);e.length>0&&(o["@language"]=e,e.match(v)||console.warn(`@language must be valid BCP47: ${e}`)),o["@direction"]=t}else s!==b&&(o["@type"]=s)}return o}e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:n=!1,rdfDirection:o=null})=>{const a={},h={"@default":a},p={};for(const r of e){const e="DefaultGraph"===r.graph.termType?"@default":r.graph.value;e in h||(h[e]={}),"@default"===e||e in a||(a[e]={"@id":e});const i=h[e],l=r.subject.value,c=r.predicate.value,u=r.object;l in i||(i[l]={"@id":l});const g=i[l],y=u.termType.endsWith("Node");if(y&&!(u.value in i)&&(i[u.value]={"@id":u.value}),c===f&&!t&&y){s.addValue(g,"@type",u.value,{propertyIsArray:!0});continue}const b=w(u,n,o);if(s.addValue(g,c,b,{propertyIsArray:!0}),y)if(u.value===d){const e=i[u.value];"usages"in e||(e.usages=[]),e.usages.push({node:g,property:c,value:b})}else u.value in p?p[u.value]=!1:p[u.value]={node:g,property:c,value:b}}for(const e in h){const t=h[e];if(!(d in t))continue;const n=t[d];if(n.usages){for(let e of n.usages){let n=e.node,o=e.property,s=e.value;const a=[],d=[];let f=Object.keys(n).length;for(;o===u&&i.isObject(p[n["@id"]])&&i.isArray(n[c])&&1===n[c].length&&i.isArray(n[u])&&1===n[u].length&&(3===f||4===f&&i.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===l)&&(a.push(n[c][0]),d.push(n["@id"]),e=p[n["@id"]],n=e.node,o=e.property,s=e.value,f=Object.keys(n).length,r.isBlankNode(n)););delete s["@id"],s["@list"]=a.reverse();for(const e of d)delete t[e]}delete n.usages}}const g=[],y=Object.keys(a).sort();for(const e of y){const t=a[e];if(e in h){const n=t["@graph"]=[],i=h[e],o=Object.keys(i).sort();for(const e of o){const t=i[e];r.isSubjectReference(t)||n.push(t)}}r.isSubjectReference(t)||g.push(t)}return g}})),o.register("klPaf",(function(e,t){var n=o("8xjSk").createNodeMap,r=o("frGHZ").isKeyword,i=o("dEapz"),s=o("kRKFi"),a=o("guzPY"),l=o("85rA0"),c=o("3Umbt"),u=c.RDF_FIRST,d=c.RDF_REST,f=c.RDF_NIL,h=c.RDF_TYPE,p=c.RDF_JSON_LITERAL,g=c.RDF_LANGSTRING,y=c.XSD_BOOLEAN,b=c.XSD_DOUBLE,v=c.XSD_INTEGER,m=c.XSD_STRING,w=o("c0VXR").isAbsolute;const _={};function x(e,t,n,i,o){const s=Object.keys(t).sort();for(const a of s){const s=t[a],l=Object.keys(s).sort();for(let t of l){const l=s[t];if("@type"===t)t=h;else if(r(t))continue;for(const r of l){const s={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!w(a))continue;const l={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!w(t))continue;if("BlankNode"===l.termType&&!o.produceGeneralizedRdf)continue;const c=j(r,i,e,n,o.rdfDirection);c&&e.push({subject:s,predicate:l,object:c,graph:n})}}}}function j(e,t,n,r,o){const l={};if(i.isValue(e)){l.termType="Literal",l.value=void 0,l.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)l.value=s(t),l.datatype.value=p;else if(a.isBoolean(t))l.value=t.toString(),l.datatype.value=n||y;else if(a.isDouble(t)||n===b)a.isDouble(t)||(t=parseFloat(t)),l.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),l.datatype.value=n||b;else if(a.isNumber(t))l.value=t.toFixed(0),l.datatype.value=n||v;else if("i18n-datatype"===o&&"@direction"in e){const n="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+`_${e["@direction"]}`;l.datatype.value=n,l.value=t}else"@language"in e?(l.value=t,l.datatype.value=n||g,l.language=e["@language"]):(l.value=t,l.datatype.value=n||m)}else if(i.isList(e)){const i=function(e,t,n,r,i){const o={termType:"NamedNode",value:u},s={termType:"NamedNode",value:d},a={termType:"NamedNode",value:f},l=e.pop(),c=l?{termType:"BlankNode",value:t.getId()}:a;let h=c;for(const a of e){const e=j(a,t,n,r,i),l={termType:"BlankNode",value:t.getId()};n.push({subject:h,predicate:o,object:e,graph:r}),n.push({subject:h,predicate:s,object:l,graph:r}),h=l}if(l){const e=j(l,t,n,r,i);n.push({subject:h,predicate:o,object:e,graph:r}),n.push({subject:h,predicate:s,object:a,graph:r})}return c}(e["@list"],t,n,r,o);l.termType=i.termType,l.value=i.value}else{const t=a.isObject(e)?e["@id"]:e;l.termType=t.startsWith("_:")?"BlankNode":"NamedNode",l.value=t}return"NamedNode"!==l.termType||w(l.value)?l:null}e.exports=_,_.toRDF=(e,t)=>{const r=new l.IdentifierIssuer("_:b"),i={"@default":{}};n(e,i,"@default",r);const o=[],s=Object.keys(i).sort();for(const e of s){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!w(e))continue;n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},n.value=e}x(o,i[e],n,r,t)}return o}})),o.register("kRKFi",(function(e,t){e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,n,r)=>t+(0===r?"":",")+e(void 0===n||"symbol"==typeof n?null:n)),"")+"]":"{"+Object.keys(t).sort().reduce(((n,r,i)=>{if(void 0===t[r]||"symbol"==typeof t[r])return n;return n+(0===n.length?"":",")+e(r)+":"+e(t[r])}),"")+"}"}})),o.register("fm7xk",(function(e,t){var n=o("frGHZ").isKeyword,r=o("dEapz"),i=o("guzPY"),s=o("85rA0"),a=o("c0VXR"),l=o("3Yszg"),c=o("8xjSk"),u=c.createNodeMap,d=c.mergeNodeMapGraphs;const f={};function h(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function p(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function g(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function y(e){if(!i.isArray(e)||1!==e.length||!i.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of s.asArray(e[0]["@id"]))if(!i.isObject(t)&&!a.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of s.asArray(e[0]["@type"]))if(!i.isObject(t)&&!a.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function b(e,t,o,a){let l=!0,c=!1;for(const u in o){let d=!1;const f=s.getValues(t,u),h=0===s.getValues(o,u).length;if("@id"===u){if(i.isEmptyObject(o["@id"][0]||{})?d=!0:o["@id"].length>=0&&(d=o["@id"].includes(f[0])),!a.requireAll)return d}else if("@type"===u){if(l=!1,h){if(f.length>0)return!1;d=!0}else if(1===o["@type"].length&&i.isEmptyObject(o["@type"][0]))d=f.length>0;else for(const e of o["@type"])d=!(!i.isObject(e)||!("@default"in e))||(d||f.some((t=>t===e)));if(!a.requireAll)return d}else{if(n(u))continue;{const t=s.getValues(o,u)[0];let n=!1;if(t&&(y([t]),n="@default"in t),l=!1,0===f.length&&n)continue;if(f.length>0&&h)return!1;if(void 0===t){if(f.length>0)return!1;d=!0}else if(r.isList(t)){const n=t["@list"][0];if(r.isList(f[0])){const t=f[0]["@list"];r.isValue(n)?d=t.some((e=>x(n,e))):(r.isSubject(n)||r.isSubjectReference(n))&&(d=t.some((t=>_(e,n,t,a))))}}else d=r.isValue(t)?f.some((e=>x(t,e))):r.isSubjectReference(t)?f.some((n=>_(e,t,n,a))):!!i.isObject(t)&&f.length>0}}if(!d&&a.requireAll)return!1;c=c||d}return l||c}function v(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],o=r.parent,a=r.property,l={"@id":t};if(i.isArray(o)){for(let e=0;e<o.length;++e)if(s.compareValues(o[e],l)){o[e]=l;break}}else{const e=i.isArray(o[a]);s.removeValue(o,a,l,{propertyIsArray:e}),s.addValue(o,a,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&i.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function m(e,t){if(i.isArray(e))return e.map((e=>m(e,t)));if(i.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(r.isValue(e))return e;if(r.isList(e))return e["@list"]=m(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=m(e[n],t)}return e}function w(e,t,n){i.isObject(e)?s.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function _(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&b(e,i,t,r)}function x(e,t){const n=t["@value"],r=t["@type"],o=t["@language"],s=e["@value"]?i.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?i.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?i.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===s.length&&0===a.length&&0===l.length||!(!s.includes(n)&&!i.isEmptyObject(s[0]))&&(!!(!r&&0===a.length||a.includes(r)||r&&i.isEmptyObject(a[0]))&&!!(!o&&0===l.length||l.includes(o)||o&&i.isEmptyObject(l[0])))}e.exports=f,f.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new s.IdentifierIssuer("_:b");u(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=d(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const o=[];return f.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter((e=>1===r.bnodeMap[e].length))),
// remove @preserve from results
n.link={},m(o,n)},f.frame=(e,t,o,a,c=null)=>{y(o),o=o[0];const u=e.options,d={embed:g(o,u,"embed"),explicit:g(o,u,"explicit"),requireAll:g(o,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const m=e.link[e.graph],_=function(e,t,n,r){const i={};for(const o of t){const t=e.graphMap[e.graph][o];b(e,t,n,r)&&(i[o]=t)}return i}(e,t,o,d),j=Object.keys(_).sort();for(const y of j){const b=_[y];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===d.embed&&y in m){w(a,c,m[y]);continue}const j={"@id":y};if(0===y.indexOf("_:")&&s.addValue(e.bnodeMap,y,j,{propertyIsArray:!0}),m[y]=j,("@first"===d.embed||"@last"===d.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:o});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(y))if(!e.embedded||"@never"!==d.embed&&!p(b,e.graph,e.subjectStack))if(!e.embedded||"@first"!=d.embed&&"@once"!=d.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(y)){if("@last"===d.embed&&y in e.uniqueEmbeds[e.graph]&&v(e,y),e.uniqueEmbeds[e.graph][y]={parent:a,property:c},e.subjectStack.push({subject:b,graph:e.graph}),y in e.graphMap){let t=!1,n=null;"@graph"in o?(n=o["@graph"][0],t=!("@merged"===y||"@default"===y),i.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&f.frame({...e,graph:y,embedded:!1},Object.keys(e.graphMap[y]).sort(),[n],j,"@graph")}"@included"in o&&f.frame({...e,embedded:!1},t,o["@included"],j,"@included");for(const t of Object.keys(b).sort())if(n(t)){if(j[t]=s.clone(b[t]),"@type"===t)for(const t of b["@type"])0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,j,{propertyIsArray:!0})}else if(!d.explicit||t in o)for(const n of b[t]){const i=t in o?o[t]:h(d);if(r.isList(n)){const i=o[t]&&o[t][0]&&o[t][0]["@list"]?o[t][0]["@list"]:h(d),a={"@list":[]};w(j,t,a);const l=n["@list"];for(const t of l)r.isSubjectReference(t)?f.frame({...e,embedded:!0},[t["@id"]],i,a,"@list"):w(a,"@list",s.clone(t))}else r.isSubjectReference(n)?f.frame({...e,embedded:!0},[n["@id"]],i,j,t):x(i[0],n)&&w(j,t,s.clone(n))}for(const e of Object.keys(o).sort()){if("@type"===e){if(!i.isObject(o[e][0])||!("@default"in o[e][0]))continue}else if(n(e))continue;const t=o[e][0]||{};if(!g(t,u,"omitDefault")&&!(e in j)){let n="@null";"@default"in t&&(n=s.clone(t["@default"])),i.isArray(n)||(n=[n]),j[e]=[{"@preserve":n}]}}for(const t of Object.keys(o["@reverse"]||{}).sort()){const n=o["@reverse"][t];for(const r of Object.keys(e.subjects)){s.getValues(e.subjects[r],t).some((e=>e["@id"]===y))&&(j["@reverse"]=j["@reverse"]||{},s.addValue(j["@reverse"],t,[],{propertyIsArray:!0}),f.frame({...e,embedded:!0},[r],n,j["@reverse"][t],c))}}w(a,c,j),e.subjectStack.pop()}else w(a,c,j);else w(a,c,j)}},f.cleanupNull=(e,t)=>{if(i.isArray(e)){return e.map((e=>f.cleanupNull(e,t))).filter((e=>e))}if("@null"===e)return null;if(i.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=f.cleanupNull(e[n],t)}return e}})),o.register("gNObS",(function(e,t){var n=o("3Yszg"),r=o("guzPY"),i=r.isArray,s=r.isObject,a=r.isString,l=r.isUndefined,c=o("dEapz"),u=c.isList,d=c.isValue,f=c.isGraph,h=c.isSimpleGraph,p=c.isSubjectReference,g=o("frGHZ"),y=g.expandIri,b=g.getContextValue,v=g.isKeyword,m=g.process,w=g.processingMode,_=o("c0VXR"),x=_.removeBase,j=_.prependBase,A=o("85rA0"),O=A.addValue,I=A.asArray,R=A.compareShortestLeast;const S={};function E(e,t,r){if("@nest"!==y(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=S,S.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:o={},compactionMap:c=(()=>{})})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let s=await S.compact({activeCtx:e,activeProperty:t,element:r[i],options:o,compactionMap:c});null===s&&(s=await c({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:o}),void 0===s)||n.push(s)}if(o.compactArrays&&1===n.length){0===(b(e,t,"@container")||[]).length&&(n=n[0])}return n}const g=b(e,t,"@context");if(l(g)||(e=await m({activeCtx:e,localCtx:g,propagate:!0,overrideProtected:!0,options:o})),s(r)){if(o.link&&"@id"in r&&o.link.hasOwnProperty(r["@id"])){const e=o.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(d(r)||p(r)){const n=S.compactValue({activeCtx:e,activeProperty:t,value:r,options:o});return o.link&&p(r)&&(o.link.hasOwnProperty(r["@id"])||(o.link[r["@id"]]=[]),o.link[r["@id"]].push({expanded:r,compacted:n})),n}if(u(r)){if((b(e,t,"@container")||[]).includes("@list"))return S.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:o,compactionMap:c})}const g="@reverse"===t,y={},_=e;d(r)||p(r)||(e=e.revertToPreviousContext());const x=b(_,t,"@context");l(x)||(e=await m({activeCtx:e,localCtx:x,propagate:!0,overrideProtected:!0,options:o})),o.link&&"@id"in r&&(o.link.hasOwnProperty(r["@id"])||(o.link[r["@id"]]=[]),o.link[r["@id"]].push({expanded:r,compacted:y}));let j=r["@type"]||[];j.length>1&&(j=Array.from(j).sort());const A=e;for(const t of j){const n=S.compactIri({activeCtx:A,iri:t,relativeTo:{vocab:!0}}),r=b(_,n,"@context");l(r)||(e=await m({activeCtx:e,localCtx:r,options:o,propagate:!1}))}const R=Object.keys(r).sort();for(const l of R){const p=r[l];if("@id"!==l)if("@type"!==l)if("@reverse"!==l)if("@preserve"!==l)if("@index"!==l)if("@graph"!==l&&"@list"!==l&&"@included"!==l&&v(l)){const t=S.compactIri({activeCtx:e,iri:l,relativeTo:{vocab:!0}});O(y,t,p)}else{if(!i(p))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const t=S.compactIri({activeCtx:e,iri:l,value:p,relativeTo:{vocab:!0},reverse:g}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let r=y;n&&(E(e,n,o),s(y[n])||(y[n]={}),r=y[n]),O(r,t,p,{propertyIsArray:!0})}for(const t of p){const n=S.compactIri({activeCtx:e,iri:l,value:t,relativeTo:{vocab:!0},reverse:g}),r=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let p=y;r&&(E(e,r,o),s(y[r])||(y[r]={}),p=y[r]);const v=b(e,n,"@container")||[],m=f(t),w=u(t);let _;w?_=t["@list"]:m&&(_=t["@graph"]);let x=await S.compact({activeCtx:e,activeProperty:n,element:w||m?_:t,options:o,compactionMap:c});if(w){if(i(x)||(x=[x]),v.includes("@list")){O(p,n,x,{valueIsArray:!0,allowDuplicate:!0});continue}x={[S.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:x},"@index"in t&&(x[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(m)if(v.includes("@graph")&&(v.includes("@id")||v.includes("@index")&&h(t))){let r;p.hasOwnProperty(n)?r=p[n]:p[n]=r={};const i=(v.includes("@id")?t["@id"]:t["@index"])||S.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});O(r,i,x,{propertyIsArray:!o.compactArrays||v.includes("@set")})}else v.includes("@graph")&&h(t)?(i(x)&&x.length>1&&(x={"@included":x}),O(p,n,x,{propertyIsArray:!o.compactArrays||v.includes("@set")})):(i(x)&&1===x.length&&o.compactArrays&&(x=x[0]),x={[S.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:x},"@id"in t&&(x[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(x[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),O(p,n,x,{propertyIsArray:!o.compactArrays||v.includes("@set")}));else if(v.includes("@language")||v.includes("@index")||v.includes("@id")||v.includes("@type")){let r,i;if(p.hasOwnProperty(n)?r=p[n]:p[n]=r={},v.includes("@language"))d(x)&&(x=x["@value"]),i=t["@language"];else if(v.includes("@index")){const r=b(e,n,"@index")||"@index",o=S.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)i=t["@index"],delete x[o];else{let e;if([i,...e]=I(x[r]||[]),a(i))switch(e.length){case 0:delete x[r];break;case 1:x[r]=e[0];break;default:x[r]=e}else i=null}}else if(v.includes("@id")){const t=S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=x[t],delete x[t]}else if(v.includes("@type")){const r=S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let s;switch([i,...s]=I(x[r]||[]),s.length){case 0:delete x[r];break;case 1:x[r]=s[0];break;default:x[r]=s}1===Object.keys(x).length&&"@id"in t&&(x=await S.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:o,compactionMap:c}))}i||(i=S.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),O(r,i,x,{propertyIsArray:v.includes("@set")})}else{const e=!o.compactArrays||v.includes("@set")||v.includes("@list")||i(x)&&0===x.length||"@list"===l||"@graph"===l;O(p,n,x,{propertyIsArray:e})}}}else{if((b(e,t,"@container")||[]).includes("@index"))continue;const n=S.compactIri({activeCtx:e,iri:l,relativeTo:{vocab:!0}});O(y,n,p)}else{const n=await S.compact({activeCtx:e,activeProperty:t,element:p,options:o,compactionMap:c});i(n)&&0===n.length||O(y,l,n)}else{const t=await S.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:o,compactionMap:c});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const r=t[n],i=(b(e,n,"@container")||[]).includes("@set")||!o.compactArrays;O(y,n,r,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=S.compactIri({activeCtx:e,iri:l,relativeTo:{vocab:!0}});O(y,n,t)}}else{let t=I(p).map((e=>S.compactIri({activeCtx:_,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const n=S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=(b(e,n,"@container")||[]).includes("@set")&&w(e,1.1)||i(t)&&0===p.length;O(y,n,t,{propertyIsArray:r})}else{let t=I(p).map((t=>S.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:o.base})));1===t.length&&(t=t[0]);y[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return y}return r},S.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:i={vocab:!1},reverse:o=!1,base:a=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const l=e.getInverse();if(v(t)&&t in l&&"@none"in l[t]&&"@type"in l[t]["@none"]&&"@none"in l[t]["@none"]["@type"])return l[t]["@none"]["@type"]["@none"];if(i.vocab&&t in l){const n=e["@language"]||"@none",i=[];s(r)&&"@index"in r&&!("@graph"in r)&&i.push("@index","@index@set"),s(r)&&"@preserve"in r&&(r=r["@preserve"][0]),f(r)?("@index"in r&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in r||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||i.push("@graph@id","@graph@id@set")):s(r)&&!d(r)&&i.push("@id","@id@set","@type","@set@type");let a="@language",l="@null";if(o)a="@type",l="@reverse",i.push("@set");else if(u(r)){"@index"in r||i.push("@list");const e=r["@list"];if(0===e.length)a="@any",l="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",s="@none";if(d(i))if("@direction"in i){o=`${(i["@language"]||"").toLowerCase()}_${i["@direction"]}`}else"@language"in i?o=i["@language"].toLowerCase():"@type"in i?s=i["@type"]:o="@null";else s="@id";if(null===t?t=o:o!==t&&d(i)&&(t="@none"),null===r?r=s:s!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(a="@type",l=r):l=t}}else{if(d(r))if("@language"in r&&!("@index"in r)){i.push("@language","@language@set"),l=r["@language"];const e=r["@direction"];e&&(l=`${l}_${e}`)}else"@direction"in r&&!("@index"in r)?l=`_${r["@direction"]}`:"@type"in r&&(a="@type",l=r["@type"]);else a="@type",l="@id";i.push("@set")}i.push("@none"),s(r)&&!("@index"in r)&&i.push("@index","@index@set"),d(r)&&1===Object.keys(r).length&&i.push("@language","@language@set");const c=function(e,t,n,r,i,o){null===o&&(o="@null");const a=[];if(("@id"===o||"@reverse"===o)&&s(n)&&"@id"in n){"@reverse"===o&&a.push("@reverse");const t=S.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(o);const e=a.find((e=>e.includes("_")));e&&a.push(e.replace(/^[^_]+_/,"_"))}a.push("@none");const l=e.inverse[t];for(const e of r){if(!(e in l))continue;const t=l[e][i];for(const e of a)if(e in t)return t[e]}return null}(e,t,r,i,a,l);if(null!==c)return c}if(i.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let c=null;const h=[];let p=e.fastCurieMap;const g=t.length-1;for(let e=0;e<g&&t[e]in p;++e)p=p[t[e]],""in p&&h.push(p[""][0]);for(let n=h.length-1;n>=0;--n){const i=h[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t)&&(null===c||R(o,c)<0)&&(c=o)}}if(null!==c)return c;for(const[r,i]of e.mappings)if(i&&i._prefix&&t.startsWith(r+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${r}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return i.vocab?t:"@base"in e?e["@base"]?x(j(a,e["@base"]),t):t:x(a,t)},S.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(d(n)){const r=b(e,t,"@type"),i=b(e,t,"@language"),o=b(e,t,"@direction"),s=b(e,t,"@container")||[],l="@index"in n&&!s.includes("@index");if(!l&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===i&&"@direction"in n&&n["@direction"]===o)return n["@value"];if("@language"in n&&n["@language"]===i)return n["@value"];if("@direction"in n&&n["@direction"]===o)return n["@value"]}const c=Object.keys(n).length,u=1===c||2===c&&"@index"in n&&!l,d="@language"in e,f=a(n["@value"]),h=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==r&&(!d||!f||h))return n["@value"];const p={};return l&&(p[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?p[S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=S.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(p[S.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(p[S.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),p[S.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],p}const i=y(e,t,{vocab:!0},r),o=b(e,t,"@type"),s=S.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===o},base:r.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}})),o.register("eds65",(function(e,t){e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}})),o.register("6xrJr",(function(e,n){t(e.exports,"Parser",(()=>o("gwmRv").default)),t(e.exports,"Writer",(()=>o("g1UNa").default)),t(e.exports,"NamedNode",(()=>o("9IttL").NamedNode));var r=o("h2ahN"),i=o("gwmRv"),s=o("g1UNa"),a=o("fbuSB"),l=o("9fLRg"),c=o("7XsD3"),u=(o("i8o3K"),o("9IttL"));r.default,i.default,s.default,a.default,l.default,c.default,u.default,u.Term,u.NamedNode,u.Literal,u.BlankNode,u.Variable,u.DefaultGraph,u.Quad,u.Triple,u.termFromId,u.termToId})),o.register("h2ahN",(function(n,r){t(n.exports,"default",(()=>p));var i=o("fxKRq"),s=o("8q08W"),a=o("6ZWSX").Buffer;const{xsd:l}=i.default,c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},d=/[\x00-\x20<>\\"\{\}\|\^\`]/,f={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},h=/$0^/;class p{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in f)&&this[e]instanceof RegExp&&(this[e]=h)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let n=this._input,r=n.length;for(;;){let e,s;for(;e=this._newline.exec(n);)this._comments&&(s=this._comment.exec(e[0]))&&i("comment",s[1],"",this._line,e[0].length),n=n.substr(e[0].length,n.length),r=n.length,this._line++;if(!e&&(e=this._whitespace.exec(n))&&(n=n.substr(e[0].length,n.length)),this._endOfFile.test(n))return t&&(this._comments&&(s=this._comment.exec(n))&&i("comment",s[1],"",this._line,n.length),n=null,i("eof","","",this._line,0)),this._input=n;const a=this._line,c=n[0];let u="",f="",h="",p=null,g=0,y=!1;switch(c){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(g=1,u="^");break}if(this._previousMarker="^^",n=n.substr(2),"<"!==n[0]){y=!0;break}case"<":if(p=this._unescapedIri.exec(n))u="IRI",f=p[1];else if(p=this._iri.exec(n)){if(f=this._unescape(p[1]),null===f||d.test(f))return o(this);u="IRI"}else n.length>1&&"<"===n[1]?(u="<<",g=2):this._n3Mode&&n.length>1&&"="===n[1]&&(u="inverse",g=2,f=">");break;case">":n.length>1&&">"===n[1]&&(u=">>",g=2);break;case"_":((p=this._blank.exec(n))||t&&(p=this._blank.exec(`${n} `)))&&(u="blank",h="_",f=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(n))f=p[1];else if(({value:f,matchLength:g}=this._parseLiteral(n)),null===f)return o(this);null===p&&0===g||(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(n))f=p[1];else if(({value:f,matchLength:g}=this._parseLiteral(n)),null===f)return o(this);null===p&&0===g||(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(n))&&(u="var",f=p[0]);break;case"@":"literal"===this._previousMarker&&(p=this._langcode.exec(n))?(u="langcode",f=p[1]):(p=this._keyword.exec(n))&&(u=p[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){u=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(n)||t&&(p=this._number.exec(`${n} `)))&&(u="literal",f=p[0],h="string"==typeof p[1]?l.double:"string"==typeof p[2]?l.decimal:l.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(n))?u=p[0].toUpperCase():y=!0;break;case"f":case"t":(p=this._boolean.exec(n))?(u="literal",f=p[0],h=l.boolean):y=!0;break;case"a":(p=this._shortPredicates.exec(n))?(u="abbreviation",f="a"):y=!0;break;case"=":this._n3Mode&&n.length>1&&(u="abbreviation",">"!==n[1]?(g=1,f="="):(g=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(g=1,u=c);break;default:y=!0}if(y&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(p=this._prefix.exec(n))?((p=this._prefixed.exec(n))||t&&(p=this._prefixed.exec(`${n} `)))&&(u="prefixed",h=p[1]||"",f=this._unescape(p[2])):(u="prefix",f=p[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const b=g||p[0].length,v=i(u,f,h,a,b);this.previousToken=v,this._previousMarker=u,n=n.substr(b,n.length)}function i(t,i,o,s,a){const l=n?r-n.length:r,c={type:t,value:i,prefix:o,line:s,start:l,end:l+a};return e(null,c),c}function o(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let t=!1;const n=e.replace(c,((e,n,r,i)=>{if("string"==typeof n)return String.fromCharCode(Number.parseInt(n,16));if("string"==typeof r){let e=Number.parseInt(r,16);return e<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in u?u[i]:(t=!0,"")}));return t?null:n}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let r=Math.max(this._literalClosingPos,n);for(;(r=e.indexOf(t,r))>0;){let t=0;for(;"\\"===e[r-t-1];)t++;if(t%2==0){const t=e.substring(n,r),i=t.split(/\r\n|\r|\n/).length-1,o=r+n;if(1===n&&0!==i||3===n&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:o}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(t,n){if(this._line=1,"string"==typeof t){if(this._input=this._readStartingBom(t),"function"!=typeof n){const e=[];let t;if(this._tokenizeToEnd(((n,r)=>n?t=n:e.push(r)),!0),t)throw t;return e}e(s)((()=>this._tokenizeToEnd(n,!0)))}else this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=a.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:(void 0===this._input?this._input=this._readStartingBom("string"==typeof e?e:e.toString()):this._input+=e,this._tokenizeToEnd(n,!1)))})),t.on("end",(()=>{"string"==typeof this._input&&this._tokenizeToEnd(n,!0)})),t.on("error",n)}}})),o.register("fxKRq",(function(e,n){t(e.exports,"default",(()=>s));const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/";var s={xsd:{decimal:`${i}decimal`,boolean:`${i}boolean`,double:`${i}double`,integer:`${i}integer`,string:`${i}string`},rdf:{type:`${r}type`,nil:`${r}nil`,first:`${r}first`,rest:`${r}rest`,langString:`${r}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${o}reify#forSome`,forAll:`${o}reify#forAll`},log:{implies:`${o}log#implies`}}})),o.register("8q08W",(function(e,t){
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let r;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))})),o.register("gwmRv",(function(e,n){t(e.exports,"default",(()=>l));var r=o("h2ahN"),i=o("9IttL"),s=o("fxKRq");let a=0;class l{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&u(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),i=/trig/.test(t),o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),l=o||s;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||o||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),l&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new(0,r.default)({lineMode:l,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){a=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,n,r,i){const o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:r,object:i,graph:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let n;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);n=this._namedNode(t);break;case"type":case"prefixed":const r=this._prefixes[e.prefix];if(void 0===r)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(r+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,n=null,r=this._readListItem;const i=this._subject,o=this._contextStack,s=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blankNode()),null===i?null===s.predicate?s.subject=n:s.object=n:this._emit(i,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(void 0===n)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,n=this._graph;const r=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==r){const e=this._predicate,t=this._object;i?this._emit(t,e,r,n):this._emit(r,e,t,n)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){const t=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,n;const r=this._blankNode();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let n,r;if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}_error(e,t){const n=new Error(`${e} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=c}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let n="",r=-1,i=-1,o=0,s="/";for(;r<t;){switch(s){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<t&&"/"!==e[i];)r=i;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(s=e[1+ ++r],s){case"/":n+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return n+e.substring(o,r)+e.substr(r+1);case".":if(s=e[1+ ++r],void 0===s||"/"===s||"?"===s||"#"===s){if(n+=e.substring(o,r-2),(o=n.lastIndexOf("/"))>=i&&(n=n.substr(0,o)),"/"!==s)return`${n}/${e.substr(r+1)}`;o=r+1}}}s=e[++r]}return n+e.substring(o)}parse(e,t,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${a++}_`,this._prefixCallback=n||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const t=[];let n;if(this._callback=(e,r)=>{e?n=e:r&&t.push(r)},this._lexer.tokenize(e).every((e=>this._readCallback=this._readCallback(e))),n)throw n;return t}this._callback=t,this._lexer.tokenize(e,((e,t)=>{null!==e?(this._callback(e),this._callback=c):this._readCallback&&(this._readCallback=this._readCallback(t))}))}}function c(){}function u(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(s.default.rdf.first),e.RDF_REST=n(s.default.rdf.rest),e.RDF_NIL=n(s.default.rdf.nil),e.N3_FORALL=n(s.default.r.forAll),e.N3_FORSOME=n(s.default.r.forSome),e.ABBREVIATIONS={a:n(s.default.rdf.type),"=":n(s.default.owl.sameAs),">":n(s.default.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}u(l.prototype,i.default)})),o.register("9IttL",(function(e,n){t(e.exports,"default",(()=>h)),t(e.exports,"Term",(()=>p)),t(e.exports,"NamedNode",(()=>g)),t(e.exports,"Literal",(()=>y)),t(e.exports,"BlankNode",(()=>b)),t(e.exports,"Variable",(()=>v)),t(e.exports,"DefaultGraph",(()=>m)),t(e.exports,"termFromId",(()=>w)),t(e.exports,"termToId",(()=>_)),t(e.exports,"Quad",(()=>x)),t(e.exports,"Triple",(()=>x));var r=o("fxKRq"),i=o("i8o3K");const{rdf:s,xsd:a}=r.default;let l,c=0;const u=/^"(.*".*)(?="[^"]*$)/,d=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,f={namedNode:function(e){return new g(e)},blankNode:function(e){return new b(e||"n3-"+c++)},variable:function(e){return new v(e)},literal:function(e,t){if("string"==typeof t)return new y(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";""===n&&("boolean"==typeof e?n=a.boolean:"number"==typeof e&&(Number.isFinite(e)?n=Number.isInteger(e)?a.integer:a.double:(n=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"))));return""===n||n===a.string?new y(`"${e}"`):new y(`"${e}"^^${n}`)},defaultGraph:function(){return l},quad:O,triple:O};var h=f;class p{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof p?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class g extends p{get termType(){return"NamedNode"}}class y extends p{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new g(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return"^"===n?e.substr(t+2):"@"!==n?a.string:s.langString}equals(e){return e instanceof y?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class b extends p{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class v extends p{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class m extends p{constructor(){return super(""),l||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}function w(e,t){if(t=t||f,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===f)return new y(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));case"<":const r=d.exec(e);return t.quad(w(A(r[1]),t),w(A(r[2]),t),w(A(r[3]),t),r[4]&&w(A(r[4]),t));default:return t.namedNode(e)}}function _(e){if("string"==typeof e)return e;if(e instanceof p&&"Quad"!==e.termType)return e.id;if(!e)return l.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==a.string?`^^${e.datatype.value}`:""}`;case"Quad":return`<<${j(_(e.subject))} ${j(_(e.predicate))} ${j(_(e.object))}${(0,i.isDefaultGraph)(e.graph)?"":` ${_(e.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}l=new m;class x extends p{constructor(e,t,n,r){super(""),this._subject=e,this._predicate=t,this._object=n,this._graph=r||l}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function j(e){return e.replace(u,((e,t)=>`"${t.replace(/"/g,'""')}`))}function A(e){return e.replace(u,((e,t)=>`"${t.replace(/""/g,'"')}`))}function O(e,t,n,r){return new x(e,t,n,r)}})),o.register("i8o3K",(function(e,n){t(e.exports,"isNamedNode",(()=>i)),t(e.exports,"isBlankNode",(()=>s)),t(e.exports,"isLiteral",(()=>a)),t(e.exports,"isVariable",(()=>l)),t(e.exports,"isDefaultGraph",(()=>c)),t(e.exports,"inDefaultGraph",(()=>u)),t(e.exports,"prefix",(()=>d)),t(e.exports,"prefixes",(()=>f));var r=o("9IttL");function i(e){return!!e&&"NamedNode"===e.termType}function s(e){return!!e&&"BlankNode"===e.termType}function a(e){return!!e&&"Literal"===e.termType}function l(e){return!!e&&"Variable"===e.termType}function c(e){return!!e&&"DefaultGraph"===e.termType}function u(e){return c(e.graph)}function d(e,t){return f({"":e.value||e},t)("")}function f(e,t){const n=Object.create(null);for(const t in e)i(t,e[t]);function i(e,r){if("string"==typeof r){const i=Object.create(null);n[e]=e=>i[e]||(i[e]=t.namedNode(r+e))}else if(!(e in n))throw new Error(`Unknown prefix: ${e}`);return n[e]}return t=t||r.default,i}})),o.register("g1UNa",(function(e,n){t(e.exports,"default",(()=>p));var r=o("fxKRq"),i=o("9IttL"),s=o("i8o3K");const a=i.default.defaultGraph(),{rdf:l,xsd:c}=r.default,u=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,d=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,f={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class h extends i.Term{equals(){return!1}}class p{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{let e="";this._outputStream={write(t,n,r){e+=t,r&&r()},end:t=>{t&&t(null,e)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=a,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseMatcher=new RegExp(`^${y(t.baseIRI)}${t.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=t.baseIRI.length))}get _inDefaultGraph(){return a.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(a.equals(r)?"":`${this._encodeIriOrBlank(r)} {\n`)),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,i):this._write(`;\n    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,i):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,i)}catch(e){i&&i(e)}}_writeQuadLine(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)}quadToString(e,t,n,r){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(n)}${r&&r.value?` ${this._encodeIriOrBlank(r)} .\n`:" .\n"}`}quadsToString(e){return e.map((e=>this.quadToString(e.subject,e.predicate,e.object,e.graph))).join("")}_encodeSubject(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),u.test(t)&&(t=t.replace(d,g));const n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(u.test(t)&&(t=t.replace(d,g)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===c.string)return`"${t}"`}else switch(e.datatype.value){case c.string:return`"${t}"`;case c.boolean:if("true"===t||"false"===t)return t;break;case c.integer:if(/^[+-]?\d+$/.test(t))return t;break;case c.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case c.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===l.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:n,graph:r}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(n)}${(0,s.isDefaultGraph)(r)?"":` ${this._encodeIriOrBlank(r)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof r?this._writeQuad(e,t,n,a,r):this._writeQuad(e,t,n,r||a,i)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,n){const r={};r[e]=t,this.addPrefixes(r,n)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let n=!1;for(let t in e){let r=e[t];"string"!=typeof r&&(r=r.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[r]=t+=":",this._write(`@prefix ${t} <${r}>.\n`)}if(n){let e="",t="";for(const n in this._prefixIRIs)e+=e?`|${n}`:n,t+=(t?"|":"")+this._prefixIRIs[n];e=y(e),this._prefixRegex=new RegExp(`^(?:${t})[^/]*$|^(${e})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?"\n":"",t)}blank(e,t){let n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new h("[]");case 1:if(n=i[0],!(n.object instanceof h))return new h(`[ ${this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)} ]`);default:let t="[";for(let o=0;o<r;o++)n=i[o],n.predicate.equals(e)?t+=`, ${this._encodeObject(n.object)}`:(t+=`${(o?";\n  ":"\n  ")+this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)}`,e=n.predicate);return new h(`${t}\n]`)}}list(e){const t=e&&e.length||0,n=new Array(t);for(let r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new h(`(${n.join(" ")})`)}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let t=e&&((n,r)=>{t=null,e(n,r)});if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}}function g(e){let t=f[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function y(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}})),o.register("fbuSB",(function(e,n){t(e.exports,"default",(()=>a));var r=o("9IttL"),i=o("b6RFW"),s=o("fxKRq");class a{constructor(e,t){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||r.default,e&&this.addQuads(e)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let n,r;for(const i in t)for(const o in n=t[i].subjects)for(const t in r=n[o])e+=Object.keys(r[t]).length;return this._size=e}_addToIndex(e,t,n,r){const i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),s=r in o;return s||(o[r]=null),!s}_removeFromIndex(e,t,n,r){const i=e[t],o=i[n];delete o[r];for(const e in o)return;delete i[n];for(const e in i)return;delete e[t]}*_findInIndex(e,t,n,i,o,s,a,l){let c,u,d;const f=this._entities,h=(0,r.termFromId)(l,this._factory),p={subject:null,predicate:null,object:null};t&&((c=e,e={})[t]=c[t]);for(const t in e)if(u=e[t]){p[o]=(0,r.termFromId)(f[t],this._factory),n&&((c=u,u={})[n]=c[n]);for(const e in u)if(d=u[e]){p[s]=(0,r.termFromId)(f[e],this._factory);const t=i?i in d?[i]:[]:Object.keys(d);for(let e=0;e<t.length;e++)p[a]=(0,r.termFromId)(f[t[e]],this._factory),yield this._factory.quad(p.subject,p.predicate,p.object,h)}}}_loop(e,t){for(const n in e)t(n)}_loopByKey0(e,t,n){let r,i;if(r=e[t])for(i in r)n(i)}_loopByKey1(e,t,n){let r,i;for(r in e)i=e[r],i[t]&&n(r)}_loopBy2Keys(e,t,n,r){let i,o,s;if((i=e[t])&&(o=i[n]))for(s in o)r(s)}_countInIndex(e,t,n,r){let i,o,s,a=0;t&&((i=e,e={})[t]=i[t]);for(const t in e)if(o=e[t]){n&&((i=o,o={})[n]=i[n]);for(const e in o)(s=o[e])&&(r?r in s&&a++:a+=Object.keys(s).length)}return a}_getGraphs(e){if(!l(e))return this._graphs;const t={};return t[e]=this._graphs[e],t}_uniqueEntities(e){const t=Object.create(null);return n=>{n in t||(t[n]=!0,e((0,r.termFromId)(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,t,n,i){t||(i=e.graph,n=e.object,t=e.predicate,e=e.subject),e=(0,r.termToId)(e),t=(0,r.termToId)(t),n=(0,r.termToId)(n),i=(0,r.termToId)(i);let o=this._graphs[i];o||(o=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(o));const s=this._ids,a=this._entities;e=s[e]||(s[a[++this._id]=e]=this._id),t=s[t]||(s[a[++this._id]=t]=this._id),n=s[n]||(s[a[++this._id]=n]=this._id);const l=this._addToIndex(o.subjects,e,t,n);return this._addToIndex(o.predicates,t,n,e),this._addToIndex(o.objects,n,e,t),this._size=null,l}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}delete(e){return this.removeQuad(e),this}has(e,t,n,r){return e&&e.subject&&({subject:e,predicate:t,object:n,graph:r}=e),!this.readQuads(e,t,n,r).next().done}import(e){return e.on("data",(e=>{this.addQuad(e)})),e}removeQuad(e,t,n,i){t||(i=e.graph,n=e.object,t=e.predicate,e=e.subject),e=(0,r.termToId)(e),t=(0,r.termToId)(t),n=(0,r.termToId)(n),i=(0,r.termToId)(i);const o=this._ids,s=this._graphs;let a,l,c;if(!((e=o[e])&&(t=o[t])&&(n=o[n])&&(a=s[i])&&(l=a.subjects[e])&&(c=l[t])&&n in c))return!1;for(e in this._removeFromIndex(a.subjects,e,t,n),this._removeFromIndex(a.predicates,t,n,e),this._removeFromIndex(a.objects,n,e,t),null!==this._size&&this._size--,a.subjects)return!0;return delete s[i],!0}removeQuads(e){for(let t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){return e.on("data",(e=>{this.removeQuad(e)})),e}removeMatches(e,t,n,r){const o=new(0,i.Readable)({objectMode:!0});return o._read=()=>{for(const i of this.readQuads(e,t,n,r))o.push(i);o.push(null)},this.remove(o)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,n,r){return[...this.readQuads(e,t,n,r)]}*readQuads(e,t,n,i){e=e&&(0,r.termToId)(e),t=t&&(0,r.termToId)(t),n=n&&(0,r.termToId)(n),i=i&&(0,r.termToId)(i);const o=this._getGraphs(i),s=this._ids;let a,c,u,d;if(!(l(e)&&!(c=s[e])||l(t)&&!(u=s[t])||l(n)&&!(d=s[n])))for(const e in o)(a=o[e])&&(c?d?yield*this._findInIndex(a.objects,d,c,u,"object","subject","predicate",e):yield*this._findInIndex(a.subjects,c,u,null,"subject","predicate","object",e):u?yield*this._findInIndex(a.predicates,u,d,null,"predicate","object","subject",e):d?yield*this._findInIndex(a.objects,d,null,null,"object","subject","predicate",e):yield*this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",e))}match(e,t,n,r){return new c(this,e,t,n,r)}countQuads(e,t,n,i){e=e&&(0,r.termToId)(e),t=t&&(0,r.termToId)(t),n=n&&(0,r.termToId)(n),i=i&&(0,r.termToId)(i);const o=this._getGraphs(i),s=this._ids;let a,c,u,d,f=0;if(l(e)&&!(c=s[e])||l(t)&&!(u=s[t])||l(n)&&!(d=s[n]))return 0;for(const r in o)(a=o[r])&&(f+=e?n?this._countInIndex(a.objects,d,c,u):this._countInIndex(a.subjects,c,u,d):t?this._countInIndex(a.predicates,u,d,c):this._countInIndex(a.objects,d,c,u));return f}forEach(e,t,n,r,i){this.some((t=>(e(t),!1)),t,n,r,i)}every(e,t,n,r,i){let o=!1;const s=!this.some((t=>(o=!0,!e(t))),t,n,r,i);return o&&s}some(e,t,n,r,i){for(const o of this.readQuads(t,n,r,i))if(e(o))return!0;return!1}getSubjects(e,t,n){const r=[];return this.forSubjects((e=>{r.push(e)}),e,t,n),r}forSubjects(e,t,n,i){t=t&&(0,r.termToId)(t),n=n&&(0,r.termToId)(n),i=i&&(0,r.termToId)(i);const o=this._ids,s=this._getGraphs(i);let a,c,u;if(e=this._uniqueEntities(e),!(l(t)&&!(c=o[t])||l(n)&&!(u=o[n])))for(i in s)(a=s[i])&&(c?u?this._loopBy2Keys(a.predicates,c,u,e):this._loopByKey1(a.subjects,c,e):u?this._loopByKey0(a.objects,u,e):this._loop(a.subjects,e))}getPredicates(e,t,n){const r=[];return this.forPredicates((e=>{r.push(e)}),e,t,n),r}forPredicates(e,t,n,i){t=t&&(0,r.termToId)(t),n=n&&(0,r.termToId)(n),i=i&&(0,r.termToId)(i);const o=this._ids,s=this._getGraphs(i);let a,c,u;if(e=this._uniqueEntities(e),!(l(t)&&!(c=o[t])||l(n)&&!(u=o[n])))for(i in s)(a=s[i])&&(c?u?this._loopBy2Keys(a.objects,u,c,e):this._loopByKey0(a.subjects,c,e):u?this._loopByKey1(a.predicates,u,e):this._loop(a.predicates,e))}getObjects(e,t,n){const r=[];return this.forObjects((e=>{r.push(e)}),e,t,n),r}forObjects(e,t,n,i){t=t&&(0,r.termToId)(t),n=n&&(0,r.termToId)(n),i=i&&(0,r.termToId)(i);const o=this._ids,s=this._getGraphs(i);let a,c,u;if(e=this._uniqueEntities(e),!(l(t)&&!(c=o[t])||l(n)&&!(u=o[n])))for(i in s)(a=s[i])&&(c?u?this._loopBy2Keys(a.subjects,c,u,e):this._loopByKey1(a.objects,c,e):u?this._loopByKey0(a.predicates,u,e):this._loop(a.objects,e))}getGraphs(e,t,n){const r=[];return this.forGraphs((e=>{r.push(e)}),e,t,n),r}forGraphs(e,t,n,r){for(const i in this._graphs)this.some((t=>(e(t.graph),!0)),t,n,r,i)}createBlankNode(e){let t,n;if(e)for(t=e=`_:${e}`,n=1;this._ids[t];)t=e+n++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){const n={},r=t?()=>!0:(e,t)=>{throw new Error(`${e.value} ${t}`)},i=this.getQuads(null,s.default.rdf.rest,s.default.rdf.nil,null),o=e?[...i]:[];return i.forEach((t=>{const i=[];let a,l,c=!1;const u=t.graph;let d=t.subject;for(;d&&!c;){const e=this.getQuads(null,null,d,null),t=this.getQuads(d,null,null,null);let n,f=null,h=null,p=null;for(let i=0;i<t.length&&!c;i++)n=t[i],n.graph.equals(u)?a?c=r(d,"has non-list arcs out"):n.predicate.value===s.default.rdf.first?f?c=r(d,"has multiple rdf:first arcs"):o.push(f=n):n.predicate.value===s.default.rdf.rest?h?c=r(d,"has multiple rdf:rest arcs"):o.push(h=n):e.length?c=r(d,"can't be subject and object"):(a=n,l="subject"):c=r(d,"not confined to single graph");for(let t=0;t<e.length&&!c;++t)n=e[t],a?c=r(d,"can't have coreferences"):n.predicate.value===s.default.rdf.rest?p?c=r(d,"has incoming rdf:rest arcs"):p=n:(a=n,l="object");f?i.unshift(f.object):c=r(d,"has no list head"),d=p&&p.subject}c?e=!1:a&&(n[a[l].value]=i)})),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}}function l(e){return"string"==typeof e||e instanceof String}class c extends i.Readable{constructor(e,t,n,r,i){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:t,predicate:n,object:r,graph:i})}get filtered(){if(!this._filtered){const{n3Store:e,graph:t,object:n,predicate:r,subject:i}=this,o=this._filtered=new a({factory:e._factory});for(const s of e.readQuads(i,r,n,t))o.addQuad(s)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,t,n,r){return new c(this.filtered,e,t,n,r)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}})),o.register("b6RFW",(function(e,t){(t=e.exports=o("d4xg3")).Stream=t,t.Readable=t,t.Writable=o("3LwY7"),t.Duplex=o("DwJuQ"),t.Transform=o("b7kl8"),t.PassThrough=o("4wWcs"),t.finished=o("fiCvv"),t.pipeline=o("aGSwO")})),o.register("d4xg3",(function(e,t){var r,i=o("hPtJY");e.exports=I,I.ReadableState=O;o("7etJZ").EventEmitter;var s=function(e,t){return e.listeners(t).length},a=o("jfAlf"),l=o("6ZWSX").Buffer,c=n.Uint8Array||function(){};var u,d=o("kjyEk");u=d&&d.debuglog?d.debuglog("stream"):function(){};var f,h,p,g=o("bF5dL"),y=o("fMCbt"),b=o("04a3B").getHighWaterMark,v=o("6JySE").codes,m=v.ERR_INVALID_ARG_TYPE,w=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,x=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("dlqwk")(I,a);var j=y.errorOrDestroy,A=["error","close","destroy","pause","resume"];function O(e,t,n){r=r||o("DwJuQ"),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",n),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=o("eNRCS").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function I(e){if(r=r||o("DwJuQ"),!(this instanceof I))return new I(e);var t=this instanceof r;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function R(e,t,n,r,i){u("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,s);else if(i||(o=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(s,t)),o)j(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r)s.endEmitted?j(e,new x):S(e,s,t,!0);else if(s.ended)j(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?S(e,s,t,!1):L(e,s)):S(e,s,t,!1)}else r||(s.reading=!1,L(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),L(e,t)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),R(this,e,t,!1,n)},I.prototype.unshift=function(e){return R(this,e,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){f||(f=o("eNRCS").StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var E=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function L(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){u("readable nexttick read 0"),e.read(0)}function D(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function $(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}I.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?$(this):T(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&$(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&$(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(e){j(this,new _("_read()"))},I.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,u("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?l:y;function a(t,i){u("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",f),d=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){u("onend"),e.end()}r.endEmitted?i.nextTick(o):n.once("end",o),e.on("unpipe",a);var c=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,U(e))}}(n);e.on("drain",c);var d=!1;function f(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==q(r.pipes,e))&&!d&&(u("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function h(t){u("onerror",t),y(),e.removeListener("error",h),0===s(e,"error")&&j(e,t)}function p(){e.removeListener("finish",g),y()}function g(){u("onfinish"),e.removeListener("close",p),y()}function y(){u("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",g),e.emit("pipe",n),r.flowing||(u("pipe resume"),n.resume()),e},I.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=q(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},I.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,u("on readable",r.length,r.reading),r.length?T(this):r.reading||i.nextTick(M,this))),n},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(P,this),n},I.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(P,this),t},I.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(D,e,t))}(this,e)),e.paused=!1,this},I.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<A.length;o++)e.on(A[o],this.emit.bind(this,A[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=o("2UdT6")),h(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=B,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(I.from=function(e,t){return void 0===p&&(p=o("e6P81")),p(I,e,t)})})),o.register("7etJZ",(function(e,t){var n,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,s;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}})),o.register("jfAlf",(function(e,t){e.exports=o("7etJZ").EventEmitter})),o.register("bF5dL",(function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=o("6ZWSX").Buffer,a=o("kjyEk").inspect,l=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,o,c;return t=e,o=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:l,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],o&&i(t.prototype,o),c&&i(t,c),e}()})),o.register("fMCbt",(function(e,t){var n=o("hPtJY");function r(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var o=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?o._writableState?o._writableState.errorEmitted?n.nextTick(i,o):(o._writableState.errorEmitted=!0,n.nextTick(r,o,e)):n.nextTick(r,o,e):t?(n.nextTick(i,o),t(e)):n.nextTick(i,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}})),o.register("04a3B",(function(e,t){var n=o("6JySE").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}})),o.register("6JySE",(function(e,n){var r;t(e.exports,"codes",(()=>r),(e=>r=e));var i={};function o(e,t,n){n||(n=Error);var r=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);r.prototype.name=n.name,r.prototype.code=e,i[e]=r}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var l=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(l," ").concat(r," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r=i})),o.register("dlqwk",(function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),o.register("DwJuQ",(function(e,t){var n=o("hPtJY"),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=o("d4xg3"),s=o("3LwY7");o("dlqwk")(u,i);for(var a=r(s.prototype),l=0;l<a.length;l++){var c=a[l];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),o.register("3LwY7",(function(e,t){var r,i=o("hPtJY");function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=I,I.WritableState=O;var a={deprecate:o("39vsn")},l=o("jfAlf"),c=o("6ZWSX").Buffer,u=n.Uint8Array||function(){};var d,f=o("fMCbt"),h=o("04a3B").getHighWaterMark,p=o("6JySE").codes,g=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,m=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,x=p.ERR_UNKNOWN_ENCODING,j=f.errorOrDestroy;function A(){}function O(e,t,n){r=r||o("DwJuQ"),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new b;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(N,e,t),e._writableState.errorEmitted=!0,j(e,r)):(o(r),e._writableState.errorEmitted=!0,j(e,r),N(e,t))}(e,n,r,t,o);else{var s=k(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),r?i.nextTick(S,e,n,s,o):S(e,n,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function I(e){var t=this instanceof(r=r||o("DwJuQ"));if(!t&&!d.call(I,this))return new I(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function R(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,R(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback;if(R(e,t,!1,t.objectMode?1:c.length,c,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&j(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var n=k(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}o("dlqwk")(I,l),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===I&&(e&&e._writableState instanceof O)}})):d=function(e){return e instanceof this},I.prototype.pipe=function(){j(this,new v)},I.prototype.write=function(e,t,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=A),o.ending?function(e,t){var n=new _;j(e,n),i.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var o;return null===n?o=new w:"string"==typeof n||t.objectMode||(o=new g("chunk",["string","Buffer"],n)),!o||(j(e,o),i.nextTick(r,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,a,r,i,o);return l}(this,o,a,e,t,n)),s},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,n){n(new y("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,N(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=f.destroy,I.prototype._undestroy=f.undestroy,I.prototype._destroy=function(e,t){t(e)}})),o.register("39vsn",(function(e,t){function r(e){try{if(!n.localStorage)return!1}catch(e){return!1}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}})),o.register("eNRCS",(function(e,n){var r;t(e.exports,"StringDecoder",(()=>r),(e=>r=e));var i=o("1U9GM").Buffer,s=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=d,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=f,this.end=h,t=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function l(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function g(e){return e&&e.length?this.write(e):""}r=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=l(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=l(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}})),o.register("1U9GM",(function(e,t){var n=o("6ZWSX"),r=n.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,e.exports),e.exports.Buffer=s),s.prototype=Object.create(r.prototype),i(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}})),o.register("2UdT6",(function(e,t){var n,r=o("hPtJY");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=o("fiCvv"),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[d]=null,e[a]=null,e[l]=null,t(p(n,!1)))}}function y(e){r.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,i=this[d];if(i)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(p(void 0,!0)):t[f](n,r)}),r)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[d]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,n=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[h].read();r?(n[d]=null,n[a]=null,n[l]=null,e(p(r,!1))):(n[a]=e,n[l]=t)},writable:!0}),t));return n[d]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[l];return null!==t&&(n[d]=null,n[a]=null,n[l]=null,t(e)),void(n[c]=e)}var r=n[a];null!==r&&(n[d]=null,n[a]=null,n[l]=null,r(p(void 0,!0))),n[u]=!0})),e.on("readable",y.bind(null,n)),n}})),o.register("fiCvv",(function(e,t){var n=o("6JySE").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||r);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){a=!1,c=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,d=!0,a||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",u),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",f),t.on("finish",u),!1!==i.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}})),o.register("e6P81",(function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}})),o.register("b7kl8",(function(e,t){e.exports=u;var n=o("6JySE").codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=o("DwJuQ");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}o("dlqwk")(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new r("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}})),o.register("4wWcs",(function(e,t){e.exports=r;var n=o("b7kl8");function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}o("dlqwk")(r,n),r.prototype._transform=function(e,t,n){n(null,e)}})),o.register("aGSwO",(function(e,t){var n;var r=o("6JySE").codes,i=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e,t,r,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=o("fiCvv")),n(e,{readable:t,writable:r},(function(e){if(e)return i(e);a=!0,i()}));var l=!1;return function(t){if(!a&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}function c(e){e()}function u(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var s=t.map((function(e,n){var i=n<t.length-1;return l(e,i,n>0,(function(e){r||(r=e),e&&s.forEach(c),i||(s.forEach(c),o(r))}))}));return t.reduce(u)}})),o.register("9fLRg",(function(e,n){t(e.exports,"default",(()=>s));var r=o("gwmRv"),i=o("b6RFW");class s extends i.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;let t,n;new(0,r.default)(e).parse({on:(e,r)=>{switch(e){case"data":t=r;break;case"end":n=r}}},((e,t)=>{e&&this.emit("error",e)||t&&this.push(t)}),((e,t)=>{this.emit("prefix",e,t)})),this._transform=(e,n,r)=>{t(e),r()},this._flush=e=>{n(),e()}}import(e){return e.on("data",(e=>{this.write(e)})),e.on("end",(()=>{this.end()})),e.on("error",(e=>{this.emit("error",e)})),this}}})),o.register("7XsD3",(function(e,n){t(e.exports,"default",(()=>s));var r=o("b6RFW"),i=o("g1UNa");class s extends r.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const t=this._writer=new(0,i.default)({write:(e,t,n)=>{this.push(e),n&&n()},end:e=>{this.push(null),e&&e()}},e);this._transform=(e,n,r)=>{t.addQuad(e,r)},this._flush=e=>{t.end(e)}}import(e){return e.on("data",(e=>{this.write(e)})),e.on("end",(()=>{this.end()})),e.on("error",(e=>{this.emit("error",e)})),e.on("prefix",((e,t)=>{this._writer.addPrefix(e,t)})),this}}})),o.register("R5nvG",(function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=u(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var n,r,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},b.call(m.prototype),b.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];_.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function j(e,n){return new Promise((function(r,o){var s=new m(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",l)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}j.polyfill=!0,e.fetch||(e.fetch=j,e.Headers=f,e.Request=m,e.Response=_),t.Headers=f,t.Request=m,t.Response=_,t.fetch=j,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}));
//# sourceMappingURL=edit.cf919d03.js.map
